it branch
  feature/LLM_interface_sidequest
* feature/refactor_sprint0
  feature/s0_day5_embedding_vector_store_setup
  main
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ls
data    docs             evals     notebooks       pytest.ini  requirements.txt  setupdirectory.sh  techdocchat.txt     tests  vectorstores
docker  environment.yml  Makefile  pyproject.toml  README.md   scripts           src                techdoc-genie-venv  ui
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ cd src
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie/src$ ls
agent  api  cli  ingestion  __init__.py  llm  mcp_server  __pycache__  retrieval  utils
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie/src$ cd cli
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie/src/cli$ ls
commands  __init__.py  main.py
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie/src/cli$ ls
commands  __init__.py  main.py
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie/src/cli$ cd ../..
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ls
data    docs             evals     notebooks       pytest.ini  requirements.txt  setupdirectory.sh  techdocchat.txt     tests  vectorstores
docker  environment.yml  Makefile  pyproject.toml  README.md   scripts           src                techdoc-genie-venv  ui
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e .
Obtaining file:///home/dell-linux-dev3/Projects/techdoc-genie
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Building wheels for collected packages: techdoc-genie
  Building editable for techdoc-genie (pyproject.toml) ... done
  Created wheel for techdoc-genie: filename=techdoc_genie-0.1.0-0.editable-py3-none-any.whl size=1658 sha256=a1d829ed2e8550b1426cd438d08307e5bc0c88cbe640b80223e0ba14539988a4
  Stored in directory: /tmp/pip-ephem-wheel-cache-tbit73_i/wheels/9b/b9/9e/05b43de1942097b9a481a5a3e3502a26847edd5a0d0e2cd03a
Successfully built techdoc-genie
Installing collected packages: techdoc-genie
  Attempting uninstall: techdoc-genie
    Found existing installation: techdoc-genie 0.1.0
    Uninstalling techdoc-genie-0.1.0:
      Successfully uninstalled techdoc-genie-0.1.0
Successfully installed techdoc-genie-0.1.0
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/techdoc-genie", line 3, in <module>
    from src.cli.main import cli
ModuleNotFoundError: No module named 'src'
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$  pip uninstall techdoc-genie
Found existing installation: techdoc-genie 0.1.0
Uninstalling techdoc-genie-0.1.0:
  Would remove:
    /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/techdoc-genie
    /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/__editable__.techdoc_genie-0.1.0.pth
    /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/techdoc_genie-0.1.0.dist-info/*
Proceed (Y/n)? y
  Successfully uninstalled techdoc-genie-0.1.0
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e .
Obtaining file:///home/dell-linux-dev3/Projects/techdoc-genie
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Requirement already satisfied: click>=8.0.0 in ./techdoc-genie-venv/lib/python3.11/site-packages (from techdoc-genie==0.1.0) (8.3.1)
Requirement already satisfied: requests>=2.28.0 in ./techdoc-genie-venv/lib/python3.11/site-packages (from techdoc-genie==0.1.0) (2.32.5)
Requirement already satisfied: charset_normalizer<4,>=2 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (3.4.4)
Requirement already satisfied: idna<4,>=2.5 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (3.11)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (2.6.3)
Requirement already satisfied: certifi>=2017.4.17 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (2026.1.4)
Building wheels for collected packages: techdoc-genie
  Building editable for techdoc-genie (pyproject.toml) ... done
  Created wheel for techdoc-genie: filename=techdoc_genie-0.1.0-0.editable-py3-none-any.whl size=3142 sha256=138819d91d3715ca302823e97691bb77d08abf50d546216ed656e30ad224f3dc
  Stored in directory: /tmp/pip-ephem-wheel-cache-2o403k_q/wheels/9b/b9/9e/05b43de1942097b9a481a5a3e3502a26847edd5a0d0e2cd03a
Successfully built techdoc-genie
Installing collected packages: techdoc-genie
Successfully installed techdoc-genie-0.1.0
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/techdoc-genie", line 3, in <module>
    from src.cli.main import cli
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/main.py", line 4, in <module>
    from .commands import data # Will be defined in src/cli/commands/data.py
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/commands/data.py", line 13, in <module>
    @click.argument("url", type=str, help="The URL of the document to download (e.g., PDF, single HTML file).")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/click/decorators.py", line 346, in decorator
    _param_memo(f, cls(param_decls, **attrs))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/click/core.py", line 3345, in __init__
    super().__init__(param_decls, required=required, **attrs)
TypeError: Parameter.__init__() got an unexpected keyword argument 'help'
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/techdoc-genie", line 3, in <module>
    from src.cli.main import cli
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/main.py", line 14, in <module>
    cli.add_command(ingestion.ingestion_group)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'src.cli.commands.ingestion' has no attribute 'ingestion_group'
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/techdoc-genie", line 3, in <module>
    from src.cli.main import cli
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/main.py", line 14, in <module>
    cli.add_command(ingestion.ingestion_group)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'src.cli.commands.ingestion' has no attribute 'ingestion_group'
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Attempting to download from: https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/
Saving to directory: data/raw/ubuntu_docs
Downloading 'pdf'...
‚úÖ Successfully downloaded to: data/raw/ubuntu_docs/pdf
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ Projects/techdoc-genie$ techdoc-genie data download-docs https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/ -o data/raw/ubuntu_docs
Attempting to download from: https://canonical-kernel-docs.readthedocs-hosted.com/_/downloads/en/latest/pdf/
Saving to directory: data/raw/ubuntu_docs
Downloading 'pdf'...
‚úÖ Successfully downloaded to: data/raw/ubuntu_docs/pdf
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Pr^C
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git status
On branch feature/refactor_sprint0
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   Makefile
	modified:   pyproject.toml
	modified:   pytest.ini
	modified:   requirements.txt
	modified:   scripts/build_vectorstore.py
	deleted:    scripts/chunk_test.py
	deleted:    scripts/chunking_configs.py
	modified:   scripts/download_docs.sh
	deleted:    scripts/ingest_docs.py
	deleted:    scripts/ingestion_test.py
	deleted:    scripts/retrieval_test.py
	deleted:    scripts/test_gemini_embedder.py
	deleted:    scripts/test_sentence_transformer_gpu.py
	deleted:    scripts/test_sentence_transformers.py
	modified:   src/utils/config.py
	modified:   src/utils/logger.py
	modified:   tests/test_chunk_script.py

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	docs/techdoc_genie_rodamap_wishlist.md
	src/cli/
	src/ingestion/chunking_configs.py
	techdocchat.txt
	tests/integration/

no changes added to commit (use "git add" and/or "git commit -a")
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git status
On branch feature/refactor_sprint0
Changes not staged for commit:
  (use "git add/rm <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   .gitignore
	modified:   Makefile
	modified:   pyproject.toml
	modified:   pytest.ini
	modified:   requirements.txt
	modified:   scripts/build_vectorstore.py
	deleted:    scripts/chunk_test.py
	deleted:    scripts/chunking_configs.py
	modified:   scripts/download_docs.sh
	deleted:    scripts/ingest_docs.py
	deleted:    scripts/ingestion_test.py
	deleted:    scripts/retrieval_test.py
	deleted:    scripts/test_gemini_embedder.py
	deleted:    scripts/test_sentence_transformer_gpu.py
	deleted:    scripts/test_sentence_transformers.py
	modified:   src/utils/config.py
	modified:   src/utils/logger.py
	modified:   tests/test_chunk_script.py

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	docs/techdoc_genie_rodamap_wishlist.md
	src/cli/
	src/ingestion/chunking_configs.py
	tests/integration/

no changes added to commit (use "git add" and/or "git commit -a")
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git add .
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git commit -m "refactored scripts that were clearly integration tests to tests/integration/, added a cli command for download documents, established framework for converting scripts to cli commands, might make this easier to use"
[feature/refactor_sprint0 22658e1] refactored scripts that were clearly integration tests to tests/integration/, added a cli command for download documents, established framework for converting scripts to cli commands, might make this easier to use
 27 files changed, 900 insertions(+), 492 deletions(-)
 create mode 100644 docs/techdoc_genie_rodamap_wishlist.md
 delete mode 100644 scripts/chunk_test.py
 delete mode 100644 scripts/ingestion_test.py
 delete mode 100644 scripts/retrieval_test.py
 delete mode 100644 scripts/test_gemini_embedder.py
 delete mode 100644 scripts/test_sentence_transformers.py
 rename scripts/ingest_docs.py => src/cli/__init__.py (100%)
 create mode 100644 src/cli/commands/__init__.py
 create mode 100644 src/cli/commands/data.py
 create mode 100644 src/cli/commands/ingestion.py
 create mode 100644 src/cli/main.py
 rename {scripts => src/ingestion}/chunking_configs.py (100%)
 create mode 100644 tests/integration/test_gemini_embedder.py
 create mode 100644 tests/integration/test_ingestion_pipeline.py
 create mode 100644 tests/integration/test_retrieval_pipeline.py
 rename {scripts => tests/integration}/test_sentence_transformer_gpu.py (58%)
 create mode 100644 tests/integration/test_sentence_transformers.py
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pytest -v
================================================================================= test session starts ==================================================================================
platform linux -- Python 3.11.8, pytest-7.4.0, pluggy-1.6.0 -- /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/dell-linux-dev3/Projects/techdoc-genie
configfile: pytest.ini
testpaths: tests, scripts
plugins: anyio-4.12.1, durations-1.6.1
collected 81 items                                                                                                                                                                     

tests/test_chunk_script.py::test_chunk_analysis_runs PASSED                                                                                                                      [  1%]
tests/test_chunk_script.py::test_chunk_metadata PASSED                                                                                                                           [  2%]
tests/test_chunk_script.py::test_chunk_lengths PASSED                                                                                                                            [  3%]
tests/test_chunking.py::test_html_loader_produces_text PASSED                                                                                                                    [  4%]
tests/test_chunking.py::test_chunk_recursive PASSED                                                                                                                              [  6%]
tests/test_chunking_experiment.py::test_chunking_statistics[256] PASSED                                                                                                          [  7%]
tests/test_chunking_experiment.py::test_chunking_statistics[512] PASSED                                                                                                          [  8%]
tests/test_chunking_experiment.py::test_chunking_statistics[1024] PASSED                                                                                                         [  9%]
tests/test_chunking_single_file.py::test_chunking_strategies[recursive] PASSED                                                                                                   [ 11%]
tests/test_chunking_single_file.py::test_chunking_strategies[token] PASSED                                                                                                       [ 12%]
tests/test_chunking_single_file.py::test_chunking_strategies[semantic] PASSED                                                                                                    [ 13%]
tests/test_embedder_mock.py::test_embedder_mock PASSED                                                                                                                           [ 14%]
tests/test_embedder_mock.py::test_mock_embedder_deterministic PASSED                                                                                                             [ 16%]
tests/test_embedder_mock.py::test_mock_embedder_different_texts PASSED                                                                                                           [ 17%]
tests/test_embedder_mock.py::test_mock_embedder_default_dimension PASSED                                                                                                         [ 18%]
tests/test_embedder_mock.py::test_mock_embedder_custom_dimension PASSED                                                                                                          [ 19%]
tests/test_embedder_mock.py::test_mock_embedder_embedding_consistency PASSED                                                                                                     [ 20%]
tests/test_embedder_mock.py::test_mock_embedder_empty_list PASSED                                                                                                                [ 22%]
tests/test_embedder_mock.py::test_mock_embedder_single_document PASSED                                                                                                           [ 23%]
tests/test_embedder_mock.py::test_mock_embedder_empty_string PASSED                                                                                                              [ 24%]
tests/test_embedder_mock.py::test_mock_embedder_whitespace_sensitivity PASSED                                                                                                    [ 25%]
tests/test_embedder_mock.py::test_mock_embedder_case_sensitivity PASSED                                                                                                          [ 27%]
tests/test_embedder_mock.py::test_mock_embedder_special_characters PASSED                                                                                                        [ 28%]
tests/test_embedder_mock.py::test_mock_embedder_value_range PASSED                                                                                                               [ 29%]
tests/test_embedder_mock.py::test_mock_embedder_no_nans_or_infs PASSED                                                                                                           [ 30%]
tests/test_embedder_mock.py::test_mock_embedder_batch_size_ignored PASSED                                                                                                        [ 32%]
tests/test_embedder_mock.py::test_mock_embedder_large_batch PASSED                                                                                                               [ 33%]
tests/test_embedder_mock.py::test_mock_embedder_very_long_text PASSED                                                                                                            [ 34%]
tests/test_embedder_mock.py::test_mock_embedder_reproducibility_across_instances PASSED                                                                                          [ 35%]
tests/test_embedder_mock.py::test_mock_embedder_hash_collision_unlikely PASSED                                                                                                   [ 37%]
tests/test_embedder_mock.py::test_mock_embedder_numeric_strings PASSED                                                                                                           [ 38%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_query PASSED                                                                                                          [ 39%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size PASSED                                                                                      [ 40%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_list PASSED                                                                                                           [ 41%]
tests/test_emdedder_huggingface.py::test_huggingface_single_document PASSED                                                                                                      [ 43%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency PASSED                                                                                      [ 44%]
tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings PASSED                                                                                             [ 45%]
tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings PASSED                                                                                 [ 46%]
tests/test_emdedder_huggingface.py::test_huggingface_custom_model PASSED                                                                                                         [ 48%]
tests/test_emdedder_huggingface.py::test_huggingface_special_characters PASSED                                                                                                   [ 49%]
tests/test_emdedder_huggingface.py::test_huggingface_long_text PASSED                                                                                                            [ 50%]
tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes PASSED                                                                                                          [ 51%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range PASSED                                                                                               [ 53%]
tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity PASSED                                                                                                  [ 54%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_string PASSED                                                                                                         [ 55%]
tests/test_ingestion.py::test_document_loader PASSED                                                                                                                             [ 56%]
tests/test_ingestion.py::test_metadata_enrichment PASSED                                                                                                                         [ 58%]
tests/test_llm_interface.py::test_llm_interface_mock PASSED                                                                                                                      [ 59%]
tests/test_llm_interface.py::test_llm_interface_not_implemented PASSED                                                                                                           [ 60%]
tests/test_utils.py::test_settings_reads_required_openapi_key PASSED                                                                                                             [ 61%]
tests/test_utils.py::test_settings_uses_default_values_when_not_overridden PASSED                                                                                                [ 62%]
tests/test_utils.py::test_settings_overrides_defaults_from_env PASSED                                                                                                            [ 64%]
tests/test_utils.py::test_setup_logger_returns_logger PASSED                                                                                                                     [ 65%]
tests/test_utils.py::test_logger_level_respects_settings PASSED                                                                                                                  [ 66%]
tests/test_utils.py::test_logger_outputs_message PASSED                                                                                                                          [ 67%]
tests/test_utils.py::test_setup_logger_does_not_duplicate_handlers PASSED                                                                                                        [ 69%]
tests/test_vector_store.py::test_vectorstore_creation_and_search PASSED                                                                                                          [ 70%]
tests/test_vector_store.py::test_vectorstore_similarity_scores PASSED                                                                                                            [ 71%]
tests/test_vector_store.py::test_vectorstore_save_and_load PASSED                                                                                                                [ 72%]
tests/test_vector_store.py::test_vectorstore_requires_embedder PASSED                                                                                                            [ 74%]
tests/test_vector_store.py::test_vectorstore_errors_if_uninitialized PASSED                                                                                                      [ 75%]
tests/test_vector_store.py::test_vectorstore_score_ordering PASSED                                                                                                               [ 76%]
tests/test_vector_store.py::test_vectorstore_different_queries_different_results PASSED                                                                                          [ 77%]
tests/test_vector_store.py::test_vectorstore_special_characters_in_query PASSED                                                                                                  [ 79%]
tests/test_vector_store.py::test_vectorstore_very_long_query PASSED                                                                                                              [ 80%]
tests/test_vector_store.py::test_vectorstore_unicode_content PASSED                                                                                                              [ 81%]
tests/test_vector_store.py::test_vectorstore_very_long_documents PASSED                                                                                                          [ 82%]
tests/test_vector_store.py::test_vectorstore_persistence_path_creation PASSED                                                                                                    [ 83%]
tests/test_vector_store.py::test_vectorstore_default_k_value PASSED                                                                                                              [ 85%]
tests/test_vector_store.py::test_vectorstore_multiple_searches_same_instance PASSED                                                                                              [ 86%]
tests/test_vector_store.py::test_vectorstore_save_without_create PASSED                                                                                                          [ 87%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_documents PASSED                                                                                                      [ 88%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_query PASSED                                                                                                          [ 90%]
tests/test_vector_store.py::test_vectorstore_different_embedders_different_results PASSED                                                                                        [ 91%]
tests/test_vector_store.py::test_vectorstore_large_number_of_documents PASSED                                                                                                    [ 92%]
tests/test_vector_store.py::test_vectorstore_recreate_after_load PASSED                                                                                                          [ 93%]
tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure PASSED                                                                                               [ 95%]
tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline PASSED                                                                                                     [ 96%]
tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline PASSED                                                                                                     [ 97%]
tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding PASSED                                                                               [ 98%]
tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding PASSED                                                                                      [100%]

=================================================================================== warnings summary ===================================================================================
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'init'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warn(

tests/test_vector_store.py::test_vectorstore_creation_and_search
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    other = LooseVersion(other)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================================================================= fixture duration top =================================================================================
total          name                                                                                        num med            min           
0:00:03.652276 tests/test_chunking_experiment.py::all_documents                                              3 0:00:01.226685 0:00:01.164763
0:00:00.132490 tests/test_chunk_script.py::sample_docs                                                       3 0:00:00.044245 0:00:00.042798
0:00:00.119489 tests/test_chunking_single_file.py::admin_doc                                                 3 0:00:00.040052 0:00:00.038978
0:00:03.908258 grand total                                                                                  78 0:00:00.000028 0:00:00.000009
================================================================================ test call duration top ================================================================================
total          name                                                                                        num med            min           
0:00:03.218941 tests/test_emdedder_huggingface.py::test_huggingface_embed_query                              1 0:00:03.218941 0:00:03.218941
0:00:01.311583 tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline                         1 0:00:01.311583 0:00:01.311583
0:00:01.145657 tests/test_ingestion.py::test_document_loader                                                 1 0:00:01.145657 0:00:01.145657
0:00:00.509392 tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline                         1 0:00:00.509392 0:00:00.509392
0:00:00.243563 tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure                   1 0:00:00.243563 0:00:00.243563
0:00:00.134644 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:00.042353 0:00:00.027524
0:00:00.132295 tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size          1 0:00:00.132295 0:00:00.132295
0:00:00.130969 tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding   1 0:00:00.130969 0:00:00.130969
0:00:00.119236 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.000672 0:00:00.000609
0:00:00.082026 tests/test_emdedder_huggingface.py::test_huggingface_long_text                                1 0:00:00.082026 0:00:00.082026
0:00:00.077912 tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes                              1 0:00:00.077912 0:00:00.077912
0:00:00.076881 tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity                      1 0:00:00.076881 0:00:00.076881
0:00:00.075332 tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding          1 0:00:00.075332 0:00:00.075332
0:00:00.072617 tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency          1 0:00:00.072617 0:00:00.072617
0:00:00.071605 tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings                 1 0:00:00.071605 0:00:00.071605
0:00:00.067057 tests/test_emdedder_huggingface.py::test_huggingface_single_document                          1 0:00:00.067057 0:00:00.067057
0:00:00.065120 tests/test_emdedder_huggingface.py::test_huggingface_empty_string                             1 0:00:00.065120 0:00:00.065120
0:00:00.064882 tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings     1 0:00:00.064882 0:00:00.064882
0:00:00.062483 tests/test_emdedder_huggingface.py::test_huggingface_special_characters                       1 0:00:00.062483 0:00:00.062483
0:00:00.061702 tests/test_emdedder_huggingface.py::test_huggingface_custom_model                             1 0:00:00.061702 0:00:00.061702
0:00:00.059896 tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range                   1 0:00:00.059896 0:00:00.059896
0:00:00.058263 tests/test_vector_store.py::test_vectorstore_large_number_of_documents                        1 0:00:00.058263 0:00:00.058263
0:00:00.046508 tests/test_emdedder_huggingface.py::test_huggingface_empty_list                               1 0:00:00.046508 0:00:00.046508
0:00:00.046282 tests/test_chunking.py::test_chunk_recursive                                                  1 0:00:00.046282 0:00:00.046282
0:00:00.045785 tests/test_chunking.py::test_html_loader_produces_text                                        1 0:00:00.045785 0:00:00.045785
0:00:00.034042 tests/test_embedder_mock.py::test_mock_embedder_large_batch                                   1 0:00:00.034042 0:00:00.034042
0:00:00.024324 tests/test_vector_store.py::test_vectorstore_creation_and_search                              1 0:00:00.024324 0:00:00.024324
0:00:00.009075 tests/test_llm_interface.py::test_llm_interface_mock                                          1 0:00:00.009075 0:00:00.009075
0:00:00.006993 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.006993 0:00:00.006993
0:00:00.005029 tests/test_chunk_script.py::test_chunk_metadata                                               1 0:00:00.005029 0:00:00.005029
0:00:08.085371 grand total                                                                                  81 0:00:00.000732 0:00:00.000060
=============================================================================== test setup duration top ================================================================================
total          name                                                                                        num med            min           
0:00:03.653016 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:01.226941 0:00:01.165003
0:00:00.120103 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.040318 0:00:00.039161
0:00:00.045588 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.045588 0:00:00.045588
0:00:00.044386 tests/test_chunk_script.py::test_chunk_lengths                                                1 0:00:00.044386 0:00:00.044386
0:00:00.042920 tests/test_chunk_script.py::test_chunk_metadata                                               1 0:00:00.042920 0:00:00.042920
0:00:03.914632 grand total                                                                                  81 0:00:00.000058 0:00:00.000036
============================================================================== test teardown duration top ==============================================================================
total          name                                                                                        num med            min           
0:00:00.004284 grand total                                                                                  81 0:00:00.000052 0:00:00.000030
=========================================================================== 81 passed, 3 warnings in 15.63s ============================================================================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git push
fatal: The current branch feature/refactor_sprint0 has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin feature/refactor_sprint0

To have this happen automatically for branches without a tracking
upstream, see 'push.autoSetupRemote' in 'git help config'.

(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git push --set-upstream origin feature/refactor_sprint0
Enumerating objects: 46, done.
Counting objects: 100% (46/46), done.
Delta compression using up to 22 threads
Compressing objects: 100% (29/29), done.
Writing objects: 100% (29/29), 14.01 KiB | 4.67 MiB/s, done.
Total 29 (delta 12), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (12/12), completed with 11 local objects.
remote: 
remote: Create a pull request for 'feature/refactor_sprint0' on GitHub by visiting:
remote:      https://github.com/joelcrouch/techdoc-genie/pull/new/feature/refactor_sprint0
remote: 
To github.com:joelcrouch/techdoc-genie.git
 * [new branch]      feature/refactor_sprint0 -> feature/refactor_sprint0
branch 'feature/refactor_sprint0' set up to track 'origin/feature/refactor_sprint0'.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e

Usage:   
  pip install [options] <requirement specifier> [package-index-options] ...
  pip install [options] -r <requirements file> [package-index-options] ...
  pip install [options] [-e] <vcs project url> ...
  pip install [options] [-e] <local project path> ...
  pip install [options] <archive url/path> ...

-e option requires 1 argument
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pip install -e .
Obtaining file:///home/dell-linux-dev3/Projects/techdoc-genie
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Requirement already satisfied: click>=8.0.0 in ./techdoc-genie-venv/lib/python3.11/site-packages (from techdoc-genie==0.1.0) (8.3.1)
Requirement already satisfied: requests>=2.28.0 in ./techdoc-genie-venv/lib/python3.11/site-packages (from techdoc-genie==0.1.0) (2.32.5)
Requirement already satisfied: charset_normalizer<4,>=2 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (3.4.4)
Requirement already satisfied: idna<4,>=2.5 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (3.11)
Requirement already satisfied: urllib3<3,>=1.21.1 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (2.6.3)
Requirement already satisfied: certifi>=2017.4.17 in ./techdoc-genie-venv/lib/python3.11/site-packages (from requests>=2.28.0->techdoc-genie==0.1.0) (2026.1.4)
Building wheels for collected packages: techdoc-genie
  Building editable for techdoc-genie (pyproject.toml) ... done
  Created wheel for techdoc-genie: filename=techdoc_genie-0.1.0-0.editable-py3-none-any.whl size=3142 sha256=42a36e767294ab1d831d21049dd1743a20545152b6f7cbabc0c8549ae4fe85c8
  Stored in directory: /tmp/pip-ephem-wheel-cache-w4pqxad7/wheels/9b/b9/9e/05b43de1942097b9a481a5a3e3502a26847edd5a0d0e2cd03a
Successfully built techdoc-genie
Installing collected packages: techdoc-genie
  Attempting uninstall: techdoc-genie
    Found existing installation: techdoc-genie 0.1.0
    Uninstalling techdoc-genie-0.1.0:
      Successfully uninstalled techdoc-genie-0.1.0
Successfully installed techdoc-genie-0.1.0
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ chmod +x scripts/setup_test_data.sh
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ./scripts/setup_test_data.sh
Setting up test data for CLI tests...
======================================

üìÅ Created directory: tests/data/raw

üì• Downloading test PDF...
   Using techdoc-genie CLI...
Attempting to download from: https://www.postgresqltutorial.com/wp-content/uploads/2018/03/PostgreSQL-Cheat-Sheet.pdf
Saving to directory: tests/data/raw
Downloading 'test_postgres_cheatsheet.pdf'...
‚úÖ Successfully downloaded to: tests/data/raw/test_postgres_cheatsheet.pdf

üìÑ Creating test HTML file...
   ‚úÖ Created test_documentation.html

‚úÖ Test data setup complete!
======================================

Files created in tests/data/raw:
total 348K
-rw-rw-r-- 1 dell-linux-dev3 dell-linux-dev3 1.9K Feb  3 10:47 test_documentation.html
-rw-rw-r-- 1 dell-linux-dev3 dell-linux-dev3 342K Feb  3 10:47 test_postgres_cheatsheet.pdf

You can now run CLI tests with:
  pytest tests/cli/ -v
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ nvidia-smi
Tue Feb  3 10:51:30 2026       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 580.95.05              Driver Version: 580.95.05      CUDA Version: 13.0     |
+-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA RTX 500 Ada Gener...    Off |   00000000:01:00.0 Off |                  N/A |
| N/A   55C    P0             14W /   35W |      14MiB /   4094MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+

+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A            3628      G   /usr/lib/xorg/Xorg                        4MiB |
+-----------------------------------------------------------------------------------------+
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pytest -v
================================================================ test session starts =================================================================
platform linux -- Python 3.11.8, pytest-7.4.0, pluggy-1.6.0 -- /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/dell-linux-dev3/Projects/techdoc-genie
configfile: pytest.ini
testpaths: tests, scripts
plugins: anyio-4.12.1, durations-1.6.1
collected 81 items                                                                                                                                   

tests/test_chunk_script.py::test_chunk_analysis_runs PASSED                                                                                    [  1%]
tests/test_chunk_script.py::test_chunk_metadata PASSED                                                                                         [  2%]
tests/test_chunk_script.py::test_chunk_lengths PASSED                                                                                          [  3%]
tests/test_chunking.py::test_html_loader_produces_text PASSED                                                                                  [  4%]
tests/test_chunking.py::test_chunk_recursive PASSED                                                                                            [  6%]
tests/test_chunking_experiment.py::test_chunking_statistics[256] PASSED                                                                        [  7%]
tests/test_chunking_experiment.py::test_chunking_statistics[512] PASSED                                                                        [  8%]
tests/test_chunking_experiment.py::test_chunking_statistics[1024] PASSED                                                                       [  9%]
tests/test_chunking_single_file.py::test_chunking_strategies[recursive] PASSED                                                                 [ 11%]
tests/test_chunking_single_file.py::test_chunking_strategies[token] PASSED                                                                     [ 12%]
tests/test_chunking_single_file.py::test_chunking_strategies[semantic] PASSED                                                                  [ 13%]
tests/test_embedder_mock.py::test_embedder_mock PASSED                                                                                         [ 14%]
tests/test_embedder_mock.py::test_mock_embedder_deterministic PASSED                                                                           [ 16%]
tests/test_embedder_mock.py::test_mock_embedder_different_texts PASSED                                                                         [ 17%]
tests/test_embedder_mock.py::test_mock_embedder_default_dimension PASSED                                                                       [ 18%]
tests/test_embedder_mock.py::test_mock_embedder_custom_dimension PASSED                                                                        [ 19%]
tests/test_embedder_mock.py::test_mock_embedder_embedding_consistency PASSED                                                                   [ 20%]
tests/test_embedder_mock.py::test_mock_embedder_empty_list PASSED                                                                              [ 22%]
tests/test_embedder_mock.py::test_mock_embedder_single_document PASSED                                                                         [ 23%]
tests/test_embedder_mock.py::test_mock_embedder_empty_string PASSED                                                                            [ 24%]
tests/test_embedder_mock.py::test_mock_embedder_whitespace_sensitivity PASSED                                                                  [ 25%]
tests/test_embedder_mock.py::test_mock_embedder_case_sensitivity PASSED                                                                        [ 27%]
tests/test_embedder_mock.py::test_mock_embedder_special_characters PASSED                                                                      [ 28%]
tests/test_embedder_mock.py::test_mock_embedder_value_range PASSED                                                                             [ 29%]
tests/test_embedder_mock.py::test_mock_embedder_no_nans_or_infs PASSED                                                                         [ 30%]
tests/test_embedder_mock.py::test_mock_embedder_batch_size_ignored PASSED                                                                      [ 32%]
tests/test_embedder_mock.py::test_mock_embedder_large_batch PASSED                                                                             [ 33%]
tests/test_embedder_mock.py::test_mock_embedder_very_long_text PASSED                                                                          [ 34%]
tests/test_embedder_mock.py::test_mock_embedder_reproducibility_across_instances PASSED                                                        [ 35%]
tests/test_embedder_mock.py::test_mock_embedder_hash_collision_unlikely PASSED                                                                 [ 37%]
tests/test_embedder_mock.py::test_mock_embedder_numeric_strings PASSED                                                                         [ 38%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_query PASSED                                                                        [ 39%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size PASSED                                                    [ 40%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_list PASSED                                                                         [ 41%]
tests/test_emdedder_huggingface.py::test_huggingface_single_document PASSED                                                                    [ 43%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency PASSED                                                    [ 44%]
tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings PASSED                                                           [ 45%]
tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings PASSED                                               [ 46%]
tests/test_emdedder_huggingface.py::test_huggingface_custom_model PASSED                                                                       [ 48%]
tests/test_emdedder_huggingface.py::test_huggingface_special_characters PASSED                                                                 [ 49%]
tests/test_emdedder_huggingface.py::test_huggingface_long_text PASSED                                                                          [ 50%]
tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes PASSED                                                                        [ 51%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range PASSED                                                             [ 53%]
tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity PASSED                                                                [ 54%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_string PASSED                                                                       [ 55%]
tests/test_ingestion.py::test_document_loader PASSED                                                                                           [ 56%]
tests/test_ingestion.py::test_metadata_enrichment PASSED                                                                                       [ 58%]
tests/test_llm_interface.py::test_llm_interface_mock PASSED                                                                                    [ 59%]
tests/test_llm_interface.py::test_llm_interface_not_implemented PASSED                                                                         [ 60%]
tests/test_utils.py::test_settings_reads_required_openapi_key PASSED                                                                           [ 61%]
tests/test_utils.py::test_settings_uses_default_values_when_not_overridden PASSED                                                              [ 62%]
tests/test_utils.py::test_settings_overrides_defaults_from_env PASSED                                                                          [ 64%]
tests/test_utils.py::test_setup_logger_returns_logger PASSED                                                                                   [ 65%]
tests/test_utils.py::test_logger_level_respects_settings PASSED                                                                                [ 66%]
tests/test_utils.py::test_logger_outputs_message PASSED                                                                                        [ 67%]
tests/test_utils.py::test_setup_logger_does_not_duplicate_handlers PASSED                                                                      [ 69%]
tests/test_vector_store.py::test_vectorstore_creation_and_search PASSED                                                                        [ 70%]
tests/test_vector_store.py::test_vectorstore_similarity_scores PASSED                                                                          [ 71%]
tests/test_vector_store.py::test_vectorstore_save_and_load PASSED                                                                              [ 72%]
tests/test_vector_store.py::test_vectorstore_requires_embedder PASSED                                                                          [ 74%]
tests/test_vector_store.py::test_vectorstore_errors_if_uninitialized PASSED                                                                    [ 75%]
tests/test_vector_store.py::test_vectorstore_score_ordering PASSED                                                                             [ 76%]
tests/test_vector_store.py::test_vectorstore_different_queries_different_results PASSED                                                        [ 77%]
tests/test_vector_store.py::test_vectorstore_special_characters_in_query PASSED                                                                [ 79%]
tests/test_vector_store.py::test_vectorstore_very_long_query PASSED                                                                            [ 80%]
tests/test_vector_store.py::test_vectorstore_unicode_content PASSED                                                                            [ 81%]
tests/test_vector_store.py::test_vectorstore_very_long_documents PASSED                                                                        [ 82%]
tests/test_vector_store.py::test_vectorstore_persistence_path_creation PASSED                                                                  [ 83%]
tests/test_vector_store.py::test_vectorstore_default_k_value PASSED                                                                            [ 85%]
tests/test_vector_store.py::test_vectorstore_multiple_searches_same_instance PASSED                                                            [ 86%]
tests/test_vector_store.py::test_vectorstore_save_without_create PASSED                                                                        [ 87%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_documents PASSED                                                                    [ 88%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_query PASSED                                                                        [ 90%]
tests/test_vector_store.py::test_vectorstore_different_embedders_different_results PASSED                                                      [ 91%]
tests/test_vector_store.py::test_vectorstore_large_number_of_documents PASSED                                                                  [ 92%]
tests/test_vector_store.py::test_vectorstore_recreate_after_load PASSED                                                                        [ 93%]
tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure PASSED                                                             [ 95%]
tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline PASSED                                                                   [ 96%]
tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline PASSED                                                                   [ 97%]
tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding PASSED                                             [ 98%]
tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding PASSED                                                    [100%]

================================================================== warnings summary ==================================================================
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'init'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warn(

tests/test_vector_store.py::test_vectorstore_creation_and_search
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    other = LooseVersion(other)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================================================ fixture duration top ================================================================
total          name                                                                                        num med            min           
0:00:03.590405 tests/test_chunking_experiment.py::all_documents                                              3 0:00:01.183392 0:00:01.170070
0:00:00.138727 tests/test_chunk_script.py::sample_docs                                                       3 0:00:00.043144 0:00:00.042222
0:00:00.126862 tests/test_chunking_single_file.py::admin_doc                                                 3 0:00:00.042641 0:00:00.041432
0:00:03.860326 grand total                                                                                  78 0:00:00.000030 0:00:00.000010
=============================================================== test call duration top ===============================================================
total          name                                                                                        num med            min           
0:00:03.176346 tests/test_emdedder_huggingface.py::test_huggingface_embed_query                              1 0:00:03.176346 0:00:03.176346
0:00:01.392231 tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline                         1 0:00:01.392231 0:00:01.392231
0:00:01.174366 tests/test_ingestion.py::test_document_loader                                                 1 0:00:01.174366 0:00:01.174366
0:00:00.466646 tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline                         1 0:00:00.466646 0:00:00.466646
0:00:00.201191 tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure                   1 0:00:00.201191 0:00:00.201191
0:00:00.131913 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:00.040761 0:00:00.029053
0:00:00.129648 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.000660 0:00:00.000645
0:00:00.095191 tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding   1 0:00:00.095191 0:00:00.095191
0:00:00.094968 tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size          1 0:00:00.094968 0:00:00.094968
0:00:00.092370 tests/test_emdedder_huggingface.py::test_huggingface_long_text                                1 0:00:00.092370 0:00:00.092370
0:00:00.079300 tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes                              1 0:00:00.079300 0:00:00.079300
0:00:00.070886 tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding          1 0:00:00.070886 0:00:00.070886
0:00:00.065143 tests/test_vector_store.py::test_vectorstore_large_number_of_documents                        1 0:00:00.065143 0:00:00.065143
0:00:00.064818 tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity                      1 0:00:00.064818 0:00:00.064818
0:00:00.062903 tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency          1 0:00:00.062903 0:00:00.062903
0:00:00.060819 tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings                 1 0:00:00.060819 0:00:00.060819
0:00:00.059290 tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings     1 0:00:00.059290 0:00:00.059290
0:00:00.057967 tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range                   1 0:00:00.057967 0:00:00.057967
0:00:00.057859 tests/test_emdedder_huggingface.py::test_huggingface_empty_string                             1 0:00:00.057859 0:00:00.057859
0:00:00.057407 tests/test_emdedder_huggingface.py::test_huggingface_special_characters                       1 0:00:00.057407 0:00:00.057407
0:00:00.056921 tests/test_emdedder_huggingface.py::test_huggingface_single_document                          1 0:00:00.056921 0:00:00.056921
0:00:00.056813 tests/test_emdedder_huggingface.py::test_huggingface_custom_model                             1 0:00:00.056813 0:00:00.056813
0:00:00.044577 tests/test_chunking.py::test_chunk_recursive                                                  1 0:00:00.044577 0:00:00.044577
0:00:00.042665 tests/test_chunking.py::test_html_loader_produces_text                                        1 0:00:00.042665 0:00:00.042665
0:00:00.041880 tests/test_emdedder_huggingface.py::test_huggingface_empty_list                               1 0:00:00.041880 0:00:00.041880
0:00:00.035575 tests/test_embedder_mock.py::test_mock_embedder_large_batch                                   1 0:00:00.035575 0:00:00.035575
0:00:00.024236 tests/test_vector_store.py::test_vectorstore_creation_and_search                              1 0:00:00.024236 0:00:00.024236
0:00:00.009370 tests/test_llm_interface.py::test_llm_interface_mock                                          1 0:00:00.009370 0:00:00.009370
0:00:00.006786 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.006786 0:00:00.006786
0:00:07.941656 grand total                                                                                  81 0:00:00.000806 0:00:00.000064
============================================================== test setup duration top ===============================================================
total          name                                                                                        num med            min           
0:00:03.591271 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:01.183630 0:00:01.170389
0:00:00.127428 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.042829 0:00:00.041615
0:00:00.053510 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.053510 0:00:00.053510
0:00:00.043315 tests/test_chunk_script.py::test_chunk_lengths                                                1 0:00:00.043315 0:00:00.043315
0:00:00.042348 tests/test_chunk_script.py::test_chunk_metadata                                               1 0:00:00.042348 0:00:00.042348
0:00:03.867599 grand total                                                                                  81 0:00:00.000059 0:00:00.000037
============================================================= test teardown duration top =============================================================
total          name                                                                                        num med            min           
0:00:00.004498 grand total                                                                                  81 0:00:00.000053 0:00:00.000032
========================================================== 81 passed, 3 warnings in 15.30s ===========================================================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git branch
  feature/LLM_interface_sidequest
* feature/refactor_sprint0
  feature/s0_day5_embedding_vector_store_setup
  main
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git checkout feature/spritn1_add_LLM
error: pathspec 'feature/spritn1_add_LLM' did not match any file(s) known to git
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git checkout -b feature/spritn1_add_LLM
Switched to a new branch 'feature/spritn1_add_LLM'
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git branch
  feature/LLM_interface_sidequest
  feature/refactor_sprint0
  feature/s0_day5_embedding_vector_store_setup
* feature/spritn1_add_LLM
  main
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ curl -fsSL https://ollama.com/install.sh | sh 
>>> Cleaning up old version at /usr/local/lib/ollama
[sudo] password for dell-linux-dev3: 
>>> Installing ollama to /usr/local
>>> Downloading ollama-linux-amd64.tar.zst
######################################################################## 100.0%
>>> Adding ollama user to render group...
>>> Adding ollama user to video group...
>>> Adding current user to ollama group...
>>> Creating ollama systemd service...
>>> Enabling and starting ollama service...
>>> NVIDIA GPU installed.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ollama --version
ollama version is 0.15.4
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ollama pull phi3:mini
pulling manifest 
pulling 633fc5be925f: 100% ‚ñï‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè 2.2 GB                         
pulling fa8235e5b48f: 100% ‚ñï‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè 1.1 KB                         
pulling 542b217f179c: 100% ‚ñï‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  148 B                         
pulling 8dde1baf1db0: 100% ‚ñï‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè   78 B                         
pulling 23291dc44752: 100% ‚ñï‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñè  483 B                         
verifying sha256 digest 
writing manifest 
success 
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ systemctl status ollama
‚óè ollama.service - Ollama Service
     Loaded: loaded (/etc/systemd/system/ollama.service; enabled; preset: enabled)
     Active: active (running) since Tue 2026-02-03 11:04:30 PST; 29min ago
   Main PID: 2320490 (ollama)
      Tasks: 26 (limit: 18254)
     Memory: 144.2M (peak: 2.2G)
        CPU: 32.154s
     CGroup: /system.slice/ollama.service
             ‚îî‚îÄ2320490 /usr/local/bin/ollama serve

Feb 03 11:04:32 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:04:32.738-08:00 level=INFO source=types.go:42 msg="inference compu>
Feb 03 11:04:32 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:04:32.738-08:00 level=INFO source=routes.go:1725 msg="entering low>
Feb 03 11:06:25 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:06:25 | 200 |    9.878238ms |       127.0.0.1 | GET      "/api/>
Feb 03 11:08:17 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:08:17 | 200 |       58.47¬µs |       127.0.0.1 | HEAD     "/"
Feb 03 11:08:18 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:08:18.558-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:34 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:34.953-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:36 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:36.270-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:37 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:37.619-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:38 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:38.948-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:41 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:12:41 | 200 |         4m24s |       127.0.0.1 | POST     "/api/>
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$  python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:34:44,917 - __main__ - INFO - Loading vector store...
2026-02-03 11:34:44,917 - __main__ - ERROR - Failed to load vector store: You must provide an embedder implementing BaseEmbedder
2026-02-03 11:34:44,917 - __main__ - ERROR - Please ensure you have run the ingestion pipeline first to create a vector store.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ systemctl status ollama
‚óè ollama.service - Ollama Service
     Loaded: loaded (/etc/systemd/system/ollama.service; enabled; preset: enabled)
     Active: active (running) since Tue 2026-02-03 11:04:30 PST; 32min ago
   Main PID: 2320490 (ollama)
      Tasks: 26 (limit: 18254)
     Memory: 139.1M (peak: 2.2G)
        CPU: 32.158s
     CGroup: /system.slice/ollama.service
             ‚îî‚îÄ2320490 /usr/local/bin/ollama serve

Feb 03 11:04:32 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:04:32.738-08:00 level=INFO source=types.go:42 msg="inference compu>
Feb 03 11:04:32 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:04:32.738-08:00 level=INFO source=routes.go:1725 msg="entering low>
Feb 03 11:06:25 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:06:25 | 200 |    9.878238ms |       127.0.0.1 | GET      "/api/>
Feb 03 11:08:17 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:08:17 | 200 |       58.47¬µs |       127.0.0.1 | HEAD     "/"
Feb 03 11:08:18 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:08:18.558-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:34 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:34.953-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:36 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:36.270-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:37 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:37.619-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:38 dell-linux-dev3-Precision-3591 ollama[2320490]: time=2026-02-03T11:12:38.948-08:00 level=INFO source=download.go:179 msg="downloading>
Feb 03 11:12:41 dell-linux-dev3-Precision-3591 ollama[2320490]: [GIN] 2026/02/03 - 11:12:41 | 200 |         4m24s |       127.0.0.1 | POST     "/api/>
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:36:55,144 - __main__ - INFO - Loading vector store...
2026-02-03 11:36:57,375 - __main__ - ERROR - Failed to load vector store: cannot import name 'HuggingFaceEmbedder' from 'src.ingestion.providers.huggingface' (/home/dell-linux-dev3/Projects/techdoc-genie/src/ingestion/providers/huggingface.py)
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/query_interface.py", line 25, in interactive_query
    embedder = DocumentEmbedder(
               ^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/ingestion/embedder.py", line 18, in __init__
    from .providers.huggingface import HuggingFaceEmbedder
ImportError: cannot import name 'HuggingFaceEmbedder' from 'src.ingestion.providers.huggingface' (/home/dell-linux-dev3/Projects/techdoc-genie/src/ingestion/providers/huggingface.py)
2026-02-03 11:36:57,376 - __main__ - ERROR - Please ensure you have run the ingestion pipeline first to create a vector store.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python scripts/ingestion_pipeline_real.py --pdf
usage: ingestion_pipeline_real.py [-h] [--no-split-sections] [--data-dir DATA_DIR] [--doc-format {html,pdf,auto}]
ingestion_pipeline_real.py: error: unrecognized arguments: --pdf
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:41:25,026 - __main__ - INFO - Loading vector store...
2026-02-03 11:41:28,738 - __main__ - ERROR - Failed to load vector store: 401 Client Error. (Request ID: Root=1-69824f68-240a3035398a67731a401c43;4face297-94eb-46ec-9c39-41f910e39363)

Repository Not Found for url: https://huggingface.co/api/models/sentence-transformers/text-embedding-3-small.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
Invalid username or password.
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/huggingface_hub/utils/_errors.py", line 270, in hf_raise_for_status
    response.raise_for_status()
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/models.py", line 1026, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://huggingface.co/api/models/sentence-transformers/text-embedding-3-small

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/query_interface.py", line 25, in interactive_query
    embedder = DocumentEmbedder(
               ^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/ingestion/embedder.py", line 19, in __init__
    self.embedder: BaseEmbedder = HuggingFaceEmbeddingProvider(model_name=model)
                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/ingestion/providers/huggingface.py", line 25, in __init__
    self.model = SentenceTransformer(self.model_name, device=self.device)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 87, in __init__
    snapshot_download(model_name_or_path,
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/sentence_transformers/util.py", line 442, in snapshot_download
    model_info = _api.model_info(repo_id=repo_id, revision=revision, token=token)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/huggingface_hub/utils/_validators.py", line 118, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/huggingface_hub/hf_api.py", line 1922, in model_info
    hf_raise_for_status(r)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/huggingface_hub/utils/_errors.py", line 320, in hf_raise_for_status
    raise RepositoryNotFoundError(message, response) from e
huggingface_hub.utils._errors.RepositoryNotFoundError: 401 Client Error. (Request ID: Root=1-69824f68-240a3035398a67731a401c43;4face297-94eb-46ec-9c39-41f910e39363)

Repository Not Found for url: https://huggingface.co/api/models/sentence-transformers/text-embedding-3-small.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
Invalid username or password.
2026-02-03 11:41:28,742 - __main__ - ERROR - Please ensure you have run the ingestion pipeline first to create a vector store.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:44:03,840 - __main__ - INFO - Loading vector store...
2026-02-03 11:44:07,555 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 11:44:07,555 - __main__ - ERROR - Failed to load vector store: Vector store not found at data/vector_store/index
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/query_interface.py", line 32, in interactive_query
    vector_store.load()
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/retrieval/vector_store.py", line 97, in load
    raise FileNotFoundError(f"Vector store not found at {load_path}")
FileNotFoundError: Vector store not found at data/vector_store/index
2026-02-03 11:44:07,555 - __main__ - ERROR - Please ensure you have run the ingestion pipeline first to create a vector store.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ls -lh data/vector_store/
total 4.0K
drwxrwxr-x 3 dell-linux-dev3 dell-linux-dev3 4.0K Jan 29 14:34 vectorstore_chunk512_overlap50
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:46:45,433 - __main__ - INFO - Loading vector store...
2026-02-03 11:46:49,146 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 11:46:49,271 - __main__ - ERROR - Failed to load vector store: Error in faiss::FileIOReader::FileIOReader(const char*) at /project/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open data/vector_store/vectorstore_chunk512_overlap50/index.faiss for reading: No such file or directory
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/query_interface.py", line 35, in interactive_query
    vector_store.load(name=vector_store_name)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/retrieval/vector_store.py", line 99, in load
    self.vectorstore = FAISS.load_local(
                       ^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_community/vectorstores/faiss.py", line 1110, in load_local
    index = faiss.read_index(
            ^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/faiss/swigfaiss_avx2.py", line 10206, in read_index
    return _swigfaiss_avx2.read_index(*args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: Error in faiss::FileIOReader::FileIOReader(const char*) at /project/faiss/faiss/impl/io.cpp:67: Error: 'f' failed: could not open data/vector_store/vectorstore_chunk512_overlap50/index.faiss for reading: No such file or directory
2026-02-03 11:46:49,273 - __main__ - ERROR - Please ensure you have run the ingestion pipeline first to create a vector store.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini
2026-02-03 11:49:31,099 - __main__ - INFO - Loading vector store...
2026-02-03 11:49:34,779 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 11:49:35,113 - src.retrieval.vector_store - INFO - Vector store loaded from data/vector_store/vectorstore_chunk512_overlap50/vectorstore_chunk512_overlap50
2026-02-03 11:49:35,113 - __main__ - INFO - Vector store 'vectorstore_chunk512_overlap50' loaded successfully from data/vector_store/vectorstore_chunk512_overlap50.
2026-02-03 11:49:35,113 - __main__ - INFO - Initializing RAG chain with provider 'ollama' and model 'phi3:mini'...
2026-02-03 11:49:35,117 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 11:49:35,119 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 11:49:35,119 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.

================================================================================
Technical Documentation Assistant
Provider: ollama, Model: phi3:mini, Prompt: base
Type 'exit' or 'quit' to end.
================================================================================


Your question: how do i create a table in postgresql?

üîç Searching documentation and generating answer...
2026-02-03 11:50:34,224 - src.agent.rag_chain - INFO - Processing query: how do i create a table in postgresql?
2026-02-03 11:50:56,262 - src.agent.rag_chain - INFO - Generated response with 5 sources.

================================================================================
ANSWER:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To create a new table in PostgreSQL using predefined data types from another schema or the system itself, you can use the `CREATE TABLE AS` statement. Here's an example based on your context where we are creating a table named 'on_hand':

```sql
CREATE TABLE on_hand (
    item      inventory_item, -- Assuming 'inventory_item' is already defined as a type in another schema or system-generated types like SERIAL.
    supplier_id integer, 
    price numeric
);
```
Remember to include the `AS` keyword and specify your data types for each column; constraints such as NOT NULL cannot be included at this time but can potentially be added later using ALTER TABLE commands or by specifying them in a CREATE TABLE statement.

================================================================================
SOURCES (5):
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[1] [1] postgresql-16-A4.pdf, Page N/A
    program, rather than creating a new table. This indeed is the usage found in ECPG (see Chapter 36)
and PL/pgSQL (see Chapter 43). The PostgreSQL usage of SELECT INTO to represent table creation
is his...

[2] [2] client-authentication.html, Page N/A
    PostgreSQL

[3] [3] parallel-query.html, Page N/A
    PostgreSQL

[4] [4] bki.html, Page N/A
    PostgreSQL

[5] [5] postgresql-16-A4.pdf, Page N/A
    name            text,
supplier_id     integer,
price           numeric
);
The syntax is comparable to CREATE TABLE, except that only field names and types can be specified;
no constraints (such as NOT...

================================================================================


Your question: how do i perform a right Join ?

üîç Searching documentation and generating answer...
2026-02-03 11:52:35,442 - src.agent.rag_chain - INFO - Processing query: how do i perform a right Join ?
2026-02-03 11:52:39,716 - src.agent.rag_chain - INFO - Generated response with 5 sources.

================================================================================
ANSWER:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To perform a right outer join in PostgreSQL, you would use the `RIGHT OUTER JOIN` keyword followed by specifying your tables and conditions. Here's an example based on our context of weather records comparison:

```sql
SELECT w1.*
FROM Weather AS w1
RIGHT OUTER JOIN Weather AS w2 ON (w1.temp_lo <= w2.temp_hi AND w1.temp_hi >= w2.temp_lo);
```
This query will return all weather records from the `Weather` table (`w1`) and any matching rows in another instance of itself, but only if there's no corresponding record with a higher temperature range that matches our criteria (i.e., where one row has at least as high temperatures). If you want to include non-matching records from the right side too, simply remove `ON` and replace it with `AND`.

================================================================================
SOURCES (5):
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[1] [1] postgresql-16-A4.pdf, Page N/A
    # JOIN
Section: JOIN

[2] [2] postgresql-16-A4.pdf, Page N/A
    # Joins Between Tables
Section: Joins Between Tables

[3] [3] postgresql-16-A4.pdf, Page N/A
    # Merge Join
Section: Merge Join

[4] [4] postgresql-16-A4.pdf, Page N/A
    Exercise:  There are also right outer joins and full outer joins. Try to find out what those do.
We can also join a table against itself. This is called a self join. As an example, suppose we wish to
...

[5] [5] postgresql-16-A4.pdf, Page N/A
    # CROSS JOIN
Section: CROSS JOIN

================================================================================


Your question: exit
Goodbye!
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --provider ollama --model phi3:mini --prompt detailed
2026-02-03 11:55:26,057 - __main__ - INFO - Loading vector store...
2026-02-03 11:55:27,831 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 11:55:28,157 - src.retrieval.vector_store - INFO - Vector store loaded from data/vector_store/vectorstore_chunk512_overlap50/vectorstore_chunk512_overlap50
2026-02-03 11:55:28,158 - __main__ - INFO - Vector store 'vectorstore_chunk512_overlap50' loaded successfully from data/vector_store/vectorstore_chunk512_overlap50.
2026-02-03 11:55:28,158 - __main__ - INFO - Initializing RAG chain with provider 'ollama' and model 'phi3:mini'...
2026-02-03 11:55:28,160 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 11:55:28,161 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 11:55:28,161 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.

================================================================================
Technical Documentation Assistant
Provider: ollama, Model: phi3:mini, Prompt: detailed
Type 'exit' or 'quit' to end.
================================================================================


Your question: how do i create a table in postgresql?

üîç Searching documentation and generating answer...
2026-02-03 11:55:41,683 - src.agent.rag_chain - INFO - Processing query: how do i create a table in postgresql?
2026-02-03 11:56:00,558 - src.agent.rag_chain - INFO - Generated response with 5 sources.

================================================================================
ANSWER:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To create a table in PostgreSQL, you will typically use the `CREATE TABLE` statement. The syntax for creating a new table is as follows:

```sql
CREATE TABLE tablename (
    column1 datatype [CONSTRAINT],
    column2 datatype [CONSTRAINT],
    ...
);
```

Here, you replace `tablename` with the name of your desired table and define each field within parentheses. The data type for a particular field is specified using PostgreSQL's supported types such as integer (`integer`), text (`text`), or numeric (`numeric`). You can also include constraints like NOT NULL to enforce specific rules on the values in that column, but these are not included when creating tables with `CREATE TABLE AS` (as mentioned in your context).

For example:
```sql
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY, -- This creates an auto-incrementing integer as a primary key.
    first_name VARCHAR(50), 
    last_name VARCHAR(50),
    email VARCHAR(100) UNIQUE NOT NULL,   -- Unique and not null constraints on the 'email' field.
    phone NUMERIC CHECK (phone >= 0 AND phone <= 999999999) -- A check constraint to ensure a valid US phone number format.
);
```
In this example, we create a table named `customers` with fields for customer ID (`customer_id`), first name (`first_name`), last name (`last_name`), email address (`email`), and telephone number (`phone`). The primary key constraint is applied to the `customer_id`, ensnering that each record has a unique identifier.

As mentioned in your context, PostgreSQL also supports creating tables using an alternative syntax with SELECT INTO:
```sql
SELECT column1, column2, ...
INTO tablename (column1, column2, ...)
FROM another_table; -- This creates the table based on data from 'another_table'. Note that this is not a common practice and should be avoided in new code. Instead, use `CREATE TABLE AS`.
```
However, as your context suggests using CREATE TABLE AS for creating tables with SELECT INTO being historical usage:
```sql
CREATE TABLE tablename (column1 dataType)  -- No constraints can presently be included when defining the table structure this way in PostgreSQL. The 'AS' keyword is essential to differentiate it from other commands like `CREATE TYPE`. Without AS, you will receive syntax errors as your system might interpret a different command type was intended (e.g., creating an enumeration or domain).
```
Remember that the above SELECT INTO method should not be used in new code due to its historical nature and potential confusion with other commands like `CREATE TYPE`. Instead, always use CREATE TABLE AS for table creation unless you have a specific reason otherwise:
```sql
CREATE TABLE tablename (column1 dataType) AS  -- This creates the 'tablename' based on an existing query result. It is often used to create summary tables or temporary ones during complex operations like ETL processes, but it should be avoided in new code for clarity and maintainability reasons.
```
In conclusion, when creating a table in PostgreSQL, use `CREATE TABLE` with the appropriate syntax as shown above while avoiding SELECT INTO unless necessary due to compatibility issues or legacy systems where this method is still used. Always include constraints like NOT NULL if needed using their respective SQL keywords and ensure that you specify 'AS' after your query when creating tables from existing data sets, although it‚Äôs not recommended for new code development in PostgreSQL 12+ versions due to the existence of `CREATE TABLE AS`.

================================================================================
SOURCES (5):
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[1] [1] postgresql-16-A4.pdf, Page N/A
    program, rather than creating a new table. This indeed is the usage found in ECPG (see Chapter 36)
and PL/pgSQL (see Chapter 43). The PostgreSQL usage of SELECT INTO to represent table creation
is his...

[2] [2] client-authentication.html, Page N/A
    PostgreSQL

[3] [3] parallel-query.html, Page N/A
    PostgreSQL

[4] [4] bki.html, Page N/A
    PostgreSQL

[5] [5] postgresql-16-A4.pdf, Page N/A
    name            text,
supplier_id     integer,
price           numeric
);
The syntax is comparable to CREATE TABLE, except that only field names and types can be specified;
no constraints (such as NOT...

================================================================================


Your question: exit
Goodbye!
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pytest -v
================================================================ test session starts =================================================================
platform linux -- Python 3.11.8, pytest-7.4.0, pluggy-1.6.0 -- /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/dell-linux-dev3/Projects/techdoc-genie
configfile: pytest.ini
testpaths: tests, scripts
plugins: anyio-4.12.1, durations-1.6.1
collected 81 items                                                                                                                                   

tests/test_chunk_script.py::test_chunk_analysis_runs PASSED                                                                                    [  1%]
tests/test_chunk_script.py::test_chunk_metadata PASSED                                                                                         [  2%]
tests/test_chunk_script.py::test_chunk_lengths PASSED                                                                                          [  3%]
tests/test_chunking.py::test_html_loader_produces_text PASSED                                                                                  [  4%]
tests/test_chunking.py::test_chunk_recursive PASSED                                                                                            [  6%]
tests/test_chunking_experiment.py::test_chunking_statistics[256] PASSED                                                                        [  7%]
tests/test_chunking_experiment.py::test_chunking_statistics[512] PASSED                                                                        [  8%]
tests/test_chunking_experiment.py::test_chunking_statistics[1024] PASSED                                                                       [  9%]
tests/test_chunking_single_file.py::test_chunking_strategies[recursive] PASSED                                                                 [ 11%]
tests/test_chunking_single_file.py::test_chunking_strategies[token] PASSED                                                                     [ 12%]
tests/test_chunking_single_file.py::test_chunking_strategies[semantic] PASSED                                                                  [ 13%]
tests/test_embedder_mock.py::test_embedder_mock PASSED                                                                                         [ 14%]
tests/test_embedder_mock.py::test_mock_embedder_deterministic PASSED                                                                           [ 16%]
tests/test_embedder_mock.py::test_mock_embedder_different_texts PASSED                                                                         [ 17%]
tests/test_embedder_mock.py::test_mock_embedder_default_dimension PASSED                                                                       [ 18%]
tests/test_embedder_mock.py::test_mock_embedder_custom_dimension PASSED                                                                        [ 19%]
tests/test_embedder_mock.py::test_mock_embedder_embedding_consistency PASSED                                                                   [ 20%]
tests/test_embedder_mock.py::test_mock_embedder_empty_list PASSED                                                                              [ 22%]
tests/test_embedder_mock.py::test_mock_embedder_single_document PASSED                                                                         [ 23%]
tests/test_embedder_mock.py::test_mock_embedder_empty_string PASSED                                                                            [ 24%]
tests/test_embedder_mock.py::test_mock_embedder_whitespace_sensitivity PASSED                                                                  [ 25%]
tests/test_embedder_mock.py::test_mock_embedder_case_sensitivity PASSED                                                                        [ 27%]
tests/test_embedder_mock.py::test_mock_embedder_special_characters PASSED                                                                      [ 28%]
tests/test_embedder_mock.py::test_mock_embedder_value_range PASSED                                                                             [ 29%]
tests/test_embedder_mock.py::test_mock_embedder_no_nans_or_infs PASSED                                                                         [ 30%]
tests/test_embedder_mock.py::test_mock_embedder_batch_size_ignored PASSED                                                                      [ 32%]
tests/test_embedder_mock.py::test_mock_embedder_large_batch PASSED                                                                             [ 33%]
tests/test_embedder_mock.py::test_mock_embedder_very_long_text PASSED                                                                          [ 34%]
tests/test_embedder_mock.py::test_mock_embedder_reproducibility_across_instances PASSED                                                        [ 35%]
tests/test_embedder_mock.py::test_mock_embedder_hash_collision_unlikely PASSED                                                                 [ 37%]
tests/test_embedder_mock.py::test_mock_embedder_numeric_strings PASSED                                                                         [ 38%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_query PASSED                                                                        [ 39%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size PASSED                                                    [ 40%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_list PASSED                                                                         [ 41%]
tests/test_emdedder_huggingface.py::test_huggingface_single_document PASSED                                                                    [ 43%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency PASSED                                                    [ 44%]
tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings PASSED                                                           [ 45%]
tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings PASSED                                               [ 46%]
tests/test_emdedder_huggingface.py::test_huggingface_custom_model PASSED                                                                       [ 48%]
tests/test_emdedder_huggingface.py::test_huggingface_special_characters PASSED                                                                 [ 49%]
tests/test_emdedder_huggingface.py::test_huggingface_long_text PASSED                                                                          [ 50%]
tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes PASSED                                                                        [ 51%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range PASSED                                                             [ 53%]
tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity PASSED                                                                [ 54%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_string PASSED                                                                       [ 55%]
tests/test_ingestion.py::test_document_loader PASSED                                                                                           [ 56%]
tests/test_ingestion.py::test_metadata_enrichment PASSED                                                                                       [ 58%]
tests/test_llm_interface.py::test_llm_interface_mock PASSED                                                                                    [ 59%]
tests/test_llm_interface.py::test_llm_interface_not_implemented PASSED                                                                         [ 60%]
tests/test_utils.py::test_settings_reads_required_openapi_key PASSED                                                                           [ 61%]
tests/test_utils.py::test_settings_uses_default_values_when_not_overridden FAILED                                                              [ 62%]
tests/test_utils.py::test_settings_overrides_defaults_from_env PASSED                                                                          [ 64%]
tests/test_utils.py::test_setup_logger_returns_logger PASSED                                                                                   [ 65%]
tests/test_utils.py::test_logger_level_respects_settings PASSED                                                                                [ 66%]
tests/test_utils.py::test_logger_outputs_message PASSED                                                                                        [ 67%]
tests/test_utils.py::test_setup_logger_does_not_duplicate_handlers PASSED                                                                      [ 69%]
tests/test_vector_store.py::test_vectorstore_creation_and_search PASSED                                                                        [ 70%]
tests/test_vector_store.py::test_vectorstore_similarity_scores PASSED                                                                          [ 71%]
tests/test_vector_store.py::test_vectorstore_save_and_load PASSED                                                                              [ 72%]
tests/test_vector_store.py::test_vectorstore_requires_embedder PASSED                                                                          [ 74%]
tests/test_vector_store.py::test_vectorstore_errors_if_uninitialized PASSED                                                                    [ 75%]
tests/test_vector_store.py::test_vectorstore_score_ordering PASSED                                                                             [ 76%]
tests/test_vector_store.py::test_vectorstore_different_queries_different_results PASSED                                                        [ 77%]
tests/test_vector_store.py::test_vectorstore_special_characters_in_query PASSED                                                                [ 79%]
tests/test_vector_store.py::test_vectorstore_very_long_query PASSED                                                                            [ 80%]
tests/test_vector_store.py::test_vectorstore_unicode_content PASSED                                                                            [ 81%]
tests/test_vector_store.py::test_vectorstore_very_long_documents PASSED                                                                        [ 82%]
tests/test_vector_store.py::test_vectorstore_persistence_path_creation PASSED                                                                  [ 83%]
tests/test_vector_store.py::test_vectorstore_default_k_value PASSED                                                                            [ 85%]
tests/test_vector_store.py::test_vectorstore_multiple_searches_same_instance PASSED                                                            [ 86%]
tests/test_vector_store.py::test_vectorstore_save_without_create PASSED                                                                        [ 87%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_documents PASSED                                                                    [ 88%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_query PASSED                                                                        [ 90%]
tests/test_vector_store.py::test_vectorstore_different_embedders_different_results PASSED                                                      [ 91%]
tests/test_vector_store.py::test_vectorstore_large_number_of_documents PASSED                                                                  [ 92%]
tests/test_vector_store.py::test_vectorstore_recreate_after_load PASSED                                                                        [ 93%]
tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure PASSED                                                             [ 95%]
tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline PASSED                                                                   [ 96%]
tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline PASSED                                                                   [ 97%]
tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding PASSED                                             [ 98%]
tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding PASSED                                                    [100%]

====================================================================== FAILURES ======================================================================
_______________________________________________ test_settings_uses_default_values_when_not_overridden ________________________________________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7c3ef918ccd0>

    def test_settings_uses_default_values_when_not_overridden(monkeypatch):
        """Defaults are used when env vars are not provided."""
        monkeypatch.setenv("OPENAPI_KEY", "dummy_key")
    
        settings = get_settings()
    
>       assert settings.embedding_model == "text-embedding-3-small"
E       AssertionError: assert 'all-MiniLM-L6-v2' == 'text-embedding-3-small'
E         - text-embedding-3-small
E         + all-MiniLM-L6-v2

tests/test_utils.py:39: AssertionError
================================================================== warnings summary ==================================================================
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'init'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warn(

tests/test_vector_store.py::test_vectorstore_creation_and_search
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    other = LooseVersion(other)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================================================ fixture duration top ================================================================
total          name                                                                                        num med            min           
0:00:03.876870 tests/test_chunking_experiment.py::all_documents                                              3 0:00:01.270292 0:00:01.259417
0:00:00.147093 tests/test_chunk_script.py::sample_docs                                                       3 0:00:00.049170 0:00:00.048111
0:00:00.141434 tests/test_chunking_single_file.py::admin_doc                                                 3 0:00:00.046666 0:00:00.045669
0:00:04.169916 grand total                                                                                  78 0:00:00.000034 0:00:00.000011
=============================================================== test call duration top ===============================================================
total          name                                                                                        num med            min           
0:00:01.189521 tests/test_emdedder_huggingface.py::test_huggingface_embed_query                              1 0:00:01.189521 0:00:01.189521
0:00:01.179487 tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline                         1 0:00:01.179487 0:00:01.179487
0:00:01.118836 tests/test_ingestion.py::test_document_loader                                                 1 0:00:01.118836 0:00:01.118836
0:00:00.445742 tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline                         1 0:00:00.445742 0:00:00.445742
0:00:00.277265 tests/test_vector_store.py::test_vectorstore_large_number_of_documents                        1 0:00:00.277265 0:00:00.277265
0:00:00.211262 tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure                   1 0:00:00.211262 0:00:00.211262
0:00:00.152966 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:00.045125 0:00:00.034868
0:00:00.147816 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.000828 0:00:00.000751
0:00:00.081471 tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes                              1 0:00:00.081471 0:00:00.081471
0:00:00.078141 tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding   1 0:00:00.078141 0:00:00.078141
0:00:00.076496 tests/test_emdedder_huggingface.py::test_huggingface_long_text                                1 0:00:00.076496 0:00:00.076496
0:00:00.071018 tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity                      1 0:00:00.071018 0:00:00.071018
0:00:00.070525 tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency          1 0:00:00.070525 0:00:00.070525
0:00:00.067243 tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding          1 0:00:00.067243 0:00:00.067243
0:00:00.067163 tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size          1 0:00:00.067163 0:00:00.067163
0:00:00.064985 tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings     1 0:00:00.064985 0:00:00.064985
0:00:00.061427 tests/test_emdedder_huggingface.py::test_huggingface_empty_string                             1 0:00:00.061427 0:00:00.061427
0:00:00.061185 tests/test_emdedder_huggingface.py::test_huggingface_special_characters                       1 0:00:00.061185 0:00:00.061185
0:00:00.060734 tests/test_emdedder_huggingface.py::test_huggingface_custom_model                             1 0:00:00.060734 0:00:00.060734
0:00:00.059688 tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings                 1 0:00:00.059688 0:00:00.059688
0:00:00.059180 tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range                   1 0:00:00.059180 0:00:00.059180
0:00:00.057021 tests/test_emdedder_huggingface.py::test_huggingface_single_document                          1 0:00:00.057021 0:00:00.057021
0:00:00.049700 tests/test_chunking.py::test_chunk_recursive                                                  1 0:00:00.049700 0:00:00.049700
0:00:00.048717 tests/test_chunking.py::test_html_loader_produces_text                                        1 0:00:00.048717 0:00:00.048717
0:00:00.042442 tests/test_embedder_mock.py::test_mock_embedder_large_batch                                   1 0:00:00.042442 0:00:00.042442
0:00:00.036831 tests/test_emdedder_huggingface.py::test_huggingface_empty_list                               1 0:00:00.036831 0:00:00.036831
0:00:00.016505 tests/test_vector_store.py::test_vectorstore_creation_and_search                              1 0:00:00.016505 0:00:00.016505
0:00:00.009259 tests/test_ingestion.py::test_metadata_enrichment                                             1 0:00:00.009259 0:00:00.009259
0:00:00.008110 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.008110 0:00:00.008110
0:00:00.005659 tests/test_chunk_script.py::test_chunk_lengths                                                1 0:00:00.005659 0:00:00.005659
0:00:05.903548 grand total                                                                                  81 0:00:00.000778 0:00:00.000060
============================================================== test setup duration top ===============================================================
total          name                                                                                        num med            min           
0:00:03.877866 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:01.270623 0:00:01.259746
0:00:00.142126 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.046890 0:00:00.045911
0:00:00.049990 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.049990 0:00:00.049990
0:00:00.049308 tests/test_chunk_script.py::test_chunk_metadata                                               1 0:00:00.049308 0:00:00.049308
0:00:00.048242 tests/test_chunk_script.py::test_chunk_lengths                                                1 0:00:00.048242 0:00:00.048242
0:00:04.177006 grand total                                                                                  81 0:00:00.000057 0:00:00.000039
============================================================= test teardown duration top =============================================================
total          name                                                                                        num med            min           
0:00:00.004616 grand total                                                                                  81 0:00:00.000056 0:00:00.000033
============================================================== short test summary info ===============================================================
FAILED tests/test_utils.py::test_settings_uses_default_values_when_not_overridden - AssertionError: assert 'all-MiniLM-L6-v2' == 'text-embedding-3-small'
===================================================== 1 failed, 80 passed, 3 warnings in 13.73s ======================================================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/cli/main.py ingestion build-vectorstore --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf --name
     ubuntu_docs_pdf
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/main.py", line 4, in <module>
    from .commands import data, ingestion # Will be defined in src/cli/commands/data.py
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: attempted relative import with no known parent package
ubuntu_docs_pdf: command not found
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python -m src.cli.main ingestion build-vectorstore \
  --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf \
  --name ubuntu_docs_pdf
Usage: python -m src.cli.main ingestion build-vectorstore [OPTIONS]
Try 'python -m src.cli.main ingestion build-vectorstore --help' for help.

Error: Invalid value for '--data-dir' / '-d': Directory '/home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf' is a file.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/cli/main.py ingestion build-vectorstore --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf --name
     ubuntu_docs_pdf
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/main.py", line 4, in <module>
    from .commands import data, ingestion # Will be defined in src/cli/commands/data.py
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ImportError: attempted relative import with no known parent package
ubuntu_docs_pdf: command not found
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python -m src.cli.main ingestion build-vectorstore --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf --name
     ubuntu_docs_pdf
Error: Option '--name' requires an argument.
ubuntu_docs_pdf: command not found
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python -m src.cli.main ingestion build-vectorstore --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf --name ubuntu_docs_pdf
Usage: python -m src.cli.main ingestion build-vectorstore [OPTIONS]
Try 'python -m src.cli.main ingestion build-vectorstore --help' for help.

Error: Invalid value for '--data-dir' / '-d': Directory '/home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf' is a file.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ls -lh /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf
-rw-rw-r-- 1 dell-linux-dev3 dell-linux-dev3 522K Feb  2 13:15 /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/pdf
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python -m src.cli.main ingestion build-vectorstore --data-dir /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/ --doc-format pdf --name ubuntu_docs_pdf
================================================================================
Building Vector Store
================================================================================
Data directory: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/
Output directory: data/vector_store
Chunk size: 512
Chunk overlap: 50
Chunk strategy: recursive
Document format: pdf
PDF section splitting: Enabled
================================================================================

üìÇ Step 1: Loading documents from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/...
2026-02-03 12:16:06,851 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs
2026-02-03 12:16:06,851 - src.ingestion.document_loader - INFO - Total: 0 PDF documents
‚ùå No documents found in /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/
   Make sure you have .html or .pdf files in the directory

‚ùå Error: 
2026-02-03 12:16:06,851 - src.cli.commands.ingestion - ERROR - Error building vector store
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/cli/commands/ingestion.py", line 143, in build_vectorstore
    raise click.Abort()
click.exceptions.Abort
Aborted!
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python scripts/build_generic_vectorstore.py -d /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/ -f pdf -n ubuntu_docs_pdf
2026-02-03 12:21:18,633 - __main__ - INFO - Starting generic docs vectorization pipeline
2026-02-03 12:21:18,633 - __main__ - INFO - ================================================================================
2026-02-03 12:21:18,633 - __main__ - INFO - Data directory: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/
2026-02-03 12:21:18,633 - __main__ - INFO - Document format: pdf
2026-02-03 12:21:18,633 - __main__ - INFO - Vector store name: ubuntu_docs_pdf
2026-02-03 12:21:18,633 - __main__ - INFO - Chunk size: 512
2026-02-03 12:21:18,633 - __main__ - INFO - Chunk overlap: 50
2026-02-03 12:21:18,633 - __main__ - INFO - Chunk strategy: recursive
2026-02-03 12:21:18,633 - __main__ - INFO - PDF section splitting: Enabled
2026-02-03 12:21:18,633 - __main__ - INFO - ================================================================================
2026-02-03 12:21:18,633 - __main__ - INFO - 
Step 1: Loading documents from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/...
2026-02-03 12:21:18,633 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs
2026-02-03 12:21:18,633 - src.ingestion.document_loader - INFO - Total: 0 PDF documents
2026-02-03 12:21:18,633 - __main__ - INFO - ‚úÖ Loaded 0 documents
2026-02-03 12:21:18,633 - __main__ - ERROR - No documents found in /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/ with format pdf
2026-02-03 12:21:18,633 - __main__ - INFO - Please ensure your data directory contains the specified document types.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python scripts/build_generic_vectorstore.py -d /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/ -f pdf -n ubuntu_docs_pdf
2026-02-03 12:23:41,738 - __main__ - INFO - Starting generic docs vectorization pipeline
2026-02-03 12:23:41,738 - __main__ - INFO - ================================================================================
2026-02-03 12:23:41,738 - __main__ - INFO - Data directory: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/
2026-02-03 12:23:41,738 - __main__ - INFO - Document format: pdf
2026-02-03 12:23:41,738 - __main__ - INFO - Vector store name: ubuntu_docs_pdf
2026-02-03 12:23:41,738 - __main__ - INFO - Chunk size: 512
2026-02-03 12:23:41,738 - __main__ - INFO - Chunk overlap: 50
2026-02-03 12:23:41,738 - __main__ - INFO - Chunk strategy: recursive
2026-02-03 12:23:41,738 - __main__ - INFO - PDF section splitting: Enabled
2026-02-03 12:23:41,738 - __main__ - INFO - ================================================================================
2026-02-03 12:23:41,738 - __main__ - INFO - 
Step 1: Loading documents from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs/...
2026-02-03 12:23:41,738 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/ubuntu_docs
2026-02-03 12:23:41,738 - src.ingestion.document_loader - INFO - Processing: ubuntu.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 12:23:42,430 - src.ingestion.document_loader - INFO -   ‚Üí Created 71 sections from ubuntu.pdf
2026-02-03 12:23:42,430 - src.ingestion.document_loader - INFO - Total: 71 PDF documents
2026-02-03 12:23:42,430 - __main__ - INFO - ‚úÖ Loaded 71 documents
2026-02-03 12:23:42,430 - __main__ - INFO -    - HTML documents: 0
2026-02-03 12:23:42,430 - __main__ - INFO -    - PDF documents: 71
2026-02-03 12:23:42,430 - __main__ - INFO - 
Step 2: Chunking documents...
2026-02-03 12:23:42,430 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=512, overlap=50
2026-02-03 12:23:42,434 - src.ingestion.chunker - INFO - Created 256 chunks
2026-02-03 12:23:42,434 - __main__ - INFO - ‚úÖ Created 256 chunks with strategy 'recursive'
2026-02-03 12:23:42,434 - __main__ - INFO -    - Average chunks per document: 3.6
2026-02-03 12:23:42,434 - __main__ - INFO - 
Step 3: Initializing embedder...
2026-02-03 12:23:44,510 - __main__ - INFO - ‚úÖ Embedder ready
2026-02-03 12:23:44,510 - __main__ - INFO - 
Step 4: Creating vector store...
2026-02-03 12:23:44,519 - src.retrieval.vector_store - INFO - Creating vector store from 256 documents
2026-02-03 12:23:45,936 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 12:23:45,936 - __main__ - INFO - ‚úÖ Vector store created in memory
2026-02-03 12:23:45,936 - __main__ - INFO - 
Step 5: Saving vector store...
2026-02-03 12:23:45,937 - src.retrieval.vector_store - INFO - Vector store saved to data/vector_store/ubuntu_docs_pdf/ubuntu_docs_pdf
2026-02-03 12:23:45,937 - __main__ - INFO - ‚úÖ Vector store saved to: data/vector_store/ubuntu_docs_pdf
2026-02-03 12:23:45,937 - __main__ - INFO - 
================================================================================
2026-02-03 12:23:45,937 - __main__ - INFO - ‚úÖ Vector store build completed!
2026-02-03 12:23:45,937 - __main__ - INFO - ================================================================================
2026-02-03 12:23:45,937 - __main__ - INFO - Documents loaded: 71
2026-02-03 12:23:45,937 - __main__ - INFO - Chunks created: 256
2026-02-03 12:23:45,937 - __main__ - INFO - Vector store location: data/vector_store/ubuntu_docs_pdf
2026-02-03 12:23:45,937 - __main__ - INFO - 
Next steps:
2026-02-03 12:23:45,937 - __main__ - INFO -   1. Query with RAG: python src/agent/query_interface.py --vector-store ubuntu_docs_pdf
2026-02-03 12:23:45,937 - __main__ - INFO -   2. Evaluate: Analyze chunking and retrieval effectiveness.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python src/agent/query_interface.py --vector-store ubuntu_docs_pdf
2026-02-03 12:24:12,453 - __main__ - INFO - Loading vector store...
2026-02-03 12:24:15,175 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 12:24:15,299 - src.retrieval.vector_store - INFO - Vector store loaded from data/vector_store/ubuntu_docs_pdf/ubuntu_docs_pdf
2026-02-03 12:24:15,299 - __main__ - INFO - Vector store 'ubuntu_docs_pdf' loaded successfully from data/vector_store/ubuntu_docs_pdf.
2026-02-03 12:24:15,299 - __main__ - INFO - Initializing RAG chain with provider 'ollama' and model 'phi3:mini'...
2026-02-03 12:24:15,302 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 12:24:15,303 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 12:24:15,303 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.

================================================================================
Technical Documentation Assistant
Provider: ollama, Model: phi3:mini, Prompt: base
Vector Store: ubuntu_docs_pdf
Type 'exit' or 'quit' to end.
================================================================================


Your question: how do i obtain kernel source for an ubuntu kernel usig git

üîç Searching documentation and generating answer...
2026-02-03 12:26:05,006 - src.agent.rag_chain - INFO - Processing query: how do i obtain kernel source for an ubuntu kernel usig git
2026-02-03 12:26:14,188 - src.agent.rag_chain - INFO - Generated response with 5 sources.

================================================================================
ANSWER:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To obtain the Linux kernel source code for a specific Ubuntu release using Git, you can follow these steps based on the provided context. Firstly, identify which Ubuntu series (release) version of the kernel you need by checking available repositories or documentation related to that particular release's kernelsource repository branches. Once identified, use one of the following commands:

```bash
git clone git+ssh://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy
```
or 
```bash
git clone https://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy
```
Replace `jammy` with the appropriate Ubuntu series name you are targeting, such as `focal`, `bionic`, etc., based on your needs and available repositories at that time of access. These commands will clone the kernel source repository for the specified release into a local directory in your machine using Git protocols or HTTPS over SSH (depending on how Launchpad is configured).

For more detailed information, refer to "HowtoobtainkernelsourceforanUbuntureleaseusingGit" and related topics like accessing kernel sources through Protocols.

================================================================================
SOURCES (5):
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[1] [1] ubuntu.pdf, Page N/A
    These guides cover processes related to obtaining kernel source trees and preparing the ker-
nel before the build process.
HowtoobtainkernelsourceforanUbuntureleaseusingGit
The kernel source code for ...

[2] [2] ubuntu.pdf, Page N/A
    Ubuntu Linux kernel source packages are essential for users and developers who want to
build, modify, or understand the kernel that powers Ubuntu systems. These packages are
stored in Launchpad and or...

[3] [3] ubuntu.pdf, Page N/A
    # Source code access and management
Section: Source code access and management

Get access to kernel source code if you need to modify the kernel for specific requirements,
optimize the performance fo...

[4] [4] ubuntu.pdf, Page N/A
    git clone git+ssh://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy
git clone https://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy
SeeProtocols for accessing kerne...

[5] [5] ubuntu.pdf, Page N/A
    You can get the correct URL by checking the list of Git repositories for the Ubuntu Kernel
Repositories team82orCanonical Kernel team83, or in the automatically updated list of cur-
rently supported U...

================================================================================


Your question: how to build an ubuntu linux kernel

üîç Searching documentation and generating answer...
2026-02-03 12:29:18,492 - src.agent.rag_chain - INFO - Processing query: how to build an ubuntu linux kernel
2026-02-03 12:29:30,023 - src.agent.rag_chain - INFO - Generated response with 5 sources.

================================================================================
ANSWER:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
To build an Ubuntu Linux kernel, follow these steps based on the provided context from "HowtobuildanUbuntuLinuxkernel":

1. Ensure your system meets prerequisites by having at least Xenial Xerus (16.04 LTS) and newer versions of Ubuntu installed with a minimum of 8GB RAM, free disk space on the build machine is recommended to be around 30GB or more.

2. Set up your build environment as described in "Setupbuildenvironment" by enabling necessary source repositories for kernel development if this is not done previously. Install required packages using commands provided therein (usually `sudo apt-get install`).

3. Obtain the Ubuntu Linux kernel source code from a trusted repository or directly download it, which can be found in "ObtaintheourceforanUbunturelease". This step involves fetching specific versions of kernels compatible with your system architecture and OS version (Xenial Xerus).

4. Navigate to the kernel source directory using `cd <kernel_source_working_directory>`. Here, you will find instructions on how to customize or modify the kernel if needed in "Customizethekernel". This may include adding firmware files, binary blobs, and applying patches as required for your specific use case.

5. To build the kernel with fakeroot debian/rules clean ensuring a fresh environment each time before recompilation after making changes to source or configuration: `fakeroot debian/rules clean &&\` followed by `\` and then run `fakeroot debian/rules binary`.

Remember, kernels built using this method are not intended for production use. For a stable kernel suitable for daily operations on Ubuntu Xenial or newer systems, it is recommended to download the official release from Canonical's website and install that instead of building one yourself unless you have specific customization needs as described in "Customizethekernel".

Irrelevant information such as links provided at the end (20https://github.com/canonical/kernel-docs/issues) or sections on tutorials, reference materials, and explanations are not directly related to building a kernel but can provide additional context for development if needed.

================================================================================
SOURCES (5):
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

[1] [1] ubuntu.pdf, Page N/A
    These guides cover how to build kernel packages, kernel snaps, and kernel components.
HowtobuildanUbuntuLinuxkernel
If you have patches you need to apply to the Ubuntu Linux kernel, or you want to cha...

[2] [2] ubuntu.pdf, Page N/A
    ‚Ä¢This guide supports Xenial Xerus and newer.
‚Ä¢It is recommended to have at least 8GB of RAM and 30GB free disk space on the build
machine.
If this is the first time you are building a kernel on your s...

[3] [3] ubuntu.pdf, Page N/A
    # Development and customization
Section: Development and customization

The steps to build a kernel is similar but may have slightly difference configuration require-
ments on different platforms and/...

[4] [4] ubuntu.pdf, Page N/A
    Tutorials (page 2) Start here : a hands-on introduction to Ubuntu Linux kernel development
for new users
How-to guides (page 4) Step-by-step guides covering common tasks involved in kernel de-
velopme...

[5] [5] ubuntu.pdf, Page N/A
    those architectures.
Customizethekernel
(Optional) Add any firmware, binary blobs, or patches as needed.
Buildthekernel
You are now ready to build the kernel.
cd<kernel_source_working_directory>
faker...

================================================================================


Your question: exit
Goodbye!
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ git status
On branch feature/spritn1_add_LLM
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   src/cli/commands/ingestion.py
	modified:   src/cli/main.py
	modified:   src/ingestion/embedder.py
	modified:   src/utils/config.py

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	docs/sprit1recap.md
	scripts/build_generic_vectorstore.py
	scripts/setup_test_data.sh
	src/agent/citation_manager.py
	src/agent/llm_wrapper.py
	src/agent/prompts.py
	src/agent/providers/ollama_provider.py
	src/agent/query_interface.py
	src/agent/rag_chain.py
	tests/cli/

no changes added to commit (use "git add" and/or "git commit -a")
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ ls -lh tests/cli/
total 0
-rw-rw-r-- 1 dell-linux-dev3 dell-linux-dev3 0 Feb  3 10:44 __init__.py
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pytest tests/integration/test_rag_pipeline_e2e.py
================================================================ test session starts =================================================================
platform linux -- Python 3.11.8, pytest-7.4.0, pluggy-1.6.0
rootdir: /home/dell-linux-dev3/Projects/techdoc-genie
configfile: pytest.ini
plugins: anyio-4.12.1, durations-1.6.1
collected 1 item                                                                                                                                     

tests/integration/test_rag_pipeline_e2e.py .                                                                                                   [100%]

================================================================== warnings summary ==================================================================
tests/integration/test_rag_pipeline_e2e.py::test_e2e_query_local_llm
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    other = LooseVersion(other)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================================================ fixture duration top ================================================================
total          name                                                                 num med            min           
0:00:04.154903 tests/integration/test_rag_pipeline_e2e.py::rag_chain_local_llm        1 0:00:04.154903 0:00:04.154903
0:00:04.154903 grand total                                                            1 0:00:04.154903 0:00:04.154903
=============================================================== test call duration top ===============================================================
total          name                                                                 num med            min           
0:00:12.444963 tests/integration/test_rag_pipeline_e2e.py::test_e2e_query_local_llm   1 0:00:12.444963 0:00:12.444963
0:00:12.444963 grand total                                                            1 0:00:12.444963 0:00:12.444963
============================================================== test setup duration top ===============================================================
total          name                                                                 num med            min           
0:00:00.000262 grand total                                                            1 0:00:00.000262 0:00:00.000262
============================================================= test teardown duration top =============================================================
total          name                                                                 num med            min           
0:00:00.000093 grand total                                                            1 0:00:00.000093 0:00:00.000093
=========================================================== 1 passed, 1 warning in 17.60s ============================================================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ pytest -v
================================================================ test session starts =================================================================
platform linux -- Python 3.11.8, pytest-7.4.0, pluggy-1.6.0 -- /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/dell-linux-dev3/Projects/techdoc-genie
configfile: pytest.ini
testpaths: tests, scripts
plugins: anyio-4.12.1, durations-1.6.1
collected 82 items                                                                                                                                   

tests/test_chunk_script.py::test_chunk_analysis_runs PASSED                                                                                    [  1%]
tests/test_chunk_script.py::test_chunk_metadata PASSED                                                                                         [  2%]
tests/test_chunk_script.py::test_chunk_lengths PASSED                                                                                          [  3%]
tests/test_chunking.py::test_html_loader_produces_text PASSED                                                                                  [  4%]
tests/test_chunking.py::test_chunk_recursive PASSED                                                                                            [  6%]
tests/test_chunking_experiment.py::test_chunking_statistics[256] PASSED                                                                        [  7%]
tests/test_chunking_experiment.py::test_chunking_statistics[512] PASSED                                                                        [  8%]
tests/test_chunking_experiment.py::test_chunking_statistics[1024] PASSED                                                                       [  9%]
tests/test_chunking_single_file.py::test_chunking_strategies[recursive] PASSED                                                                 [ 10%]
tests/test_chunking_single_file.py::test_chunking_strategies[token] PASSED                                                                     [ 12%]
tests/test_chunking_single_file.py::test_chunking_strategies[semantic] PASSED                                                                  [ 13%]
tests/test_embedder_mock.py::test_embedder_mock PASSED                                                                                         [ 14%]
tests/test_embedder_mock.py::test_mock_embedder_deterministic PASSED                                                                           [ 15%]
tests/test_embedder_mock.py::test_mock_embedder_different_texts PASSED                                                                         [ 17%]
tests/test_embedder_mock.py::test_mock_embedder_default_dimension PASSED                                                                       [ 18%]
tests/test_embedder_mock.py::test_mock_embedder_custom_dimension PASSED                                                                        [ 19%]
tests/test_embedder_mock.py::test_mock_embedder_embedding_consistency PASSED                                                                   [ 20%]
tests/test_embedder_mock.py::test_mock_embedder_empty_list PASSED                                                                              [ 21%]
tests/test_embedder_mock.py::test_mock_embedder_single_document PASSED                                                                         [ 23%]
tests/test_embedder_mock.py::test_mock_embedder_empty_string PASSED                                                                            [ 24%]
tests/test_embedder_mock.py::test_mock_embedder_whitespace_sensitivity PASSED                                                                  [ 25%]
tests/test_embedder_mock.py::test_mock_embedder_case_sensitivity PASSED                                                                        [ 26%]
tests/test_embedder_mock.py::test_mock_embedder_special_characters PASSED                                                                      [ 28%]
tests/test_embedder_mock.py::test_mock_embedder_value_range PASSED                                                                             [ 29%]
tests/test_embedder_mock.py::test_mock_embedder_no_nans_or_infs PASSED                                                                         [ 30%]
tests/test_embedder_mock.py::test_mock_embedder_batch_size_ignored PASSED                                                                      [ 31%]
tests/test_embedder_mock.py::test_mock_embedder_large_batch PASSED                                                                             [ 32%]
tests/test_embedder_mock.py::test_mock_embedder_very_long_text PASSED                                                                          [ 34%]
tests/test_embedder_mock.py::test_mock_embedder_reproducibility_across_instances PASSED                                                        [ 35%]
tests/test_embedder_mock.py::test_mock_embedder_hash_collision_unlikely PASSED                                                                 [ 36%]
tests/test_embedder_mock.py::test_mock_embedder_numeric_strings PASSED                                                                         [ 37%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_query PASSED                                                                        [ 39%]
tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size PASSED                                                    [ 40%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_list PASSED                                                                         [ 41%]
tests/test_emdedder_huggingface.py::test_huggingface_single_document PASSED                                                                    [ 42%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency PASSED                                                    [ 43%]
tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings PASSED                                                           [ 45%]
tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings PASSED                                               [ 46%]
tests/test_emdedder_huggingface.py::test_huggingface_custom_model PASSED                                                                       [ 47%]
tests/test_emdedder_huggingface.py::test_huggingface_special_characters PASSED                                                                 [ 48%]
tests/test_emdedder_huggingface.py::test_huggingface_long_text PASSED                                                                          [ 50%]
tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes PASSED                                                                        [ 51%]
tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range PASSED                                                             [ 52%]
tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity PASSED                                                                [ 53%]
tests/test_emdedder_huggingface.py::test_huggingface_empty_string PASSED                                                                       [ 54%]
tests/test_ingestion.py::test_document_loader PASSED                                                                                           [ 56%]
tests/test_ingestion.py::test_metadata_enrichment PASSED                                                                                       [ 57%]
tests/test_llm_interface.py::test_llm_interface_mock PASSED                                                                                    [ 58%]
tests/test_llm_interface.py::test_llm_interface_not_implemented PASSED                                                                         [ 59%]
tests/test_utils.py::test_settings_reads_required_openapi_key PASSED                                                                           [ 60%]
tests/test_utils.py::test_settings_uses_default_values_when_not_overridden FAILED                                                              [ 62%]
tests/test_utils.py::test_settings_overrides_defaults_from_env PASSED                                                                          [ 63%]
tests/test_utils.py::test_setup_logger_returns_logger PASSED                                                                                   [ 64%]
tests/test_utils.py::test_logger_level_respects_settings PASSED                                                                                [ 65%]
tests/test_utils.py::test_logger_outputs_message PASSED                                                                                        [ 67%]
tests/test_utils.py::test_setup_logger_does_not_duplicate_handlers PASSED                                                                      [ 68%]
tests/test_vector_store.py::test_vectorstore_creation_and_search PASSED                                                                        [ 69%]
tests/test_vector_store.py::test_vectorstore_similarity_scores PASSED                                                                          [ 70%]
tests/test_vector_store.py::test_vectorstore_save_and_load PASSED                                                                              [ 71%]
tests/test_vector_store.py::test_vectorstore_requires_embedder PASSED                                                                          [ 73%]
tests/test_vector_store.py::test_vectorstore_errors_if_uninitialized PASSED                                                                    [ 74%]
tests/test_vector_store.py::test_vectorstore_score_ordering PASSED                                                                             [ 75%]
tests/test_vector_store.py::test_vectorstore_different_queries_different_results PASSED                                                        [ 76%]
tests/test_vector_store.py::test_vectorstore_special_characters_in_query PASSED                                                                [ 78%]
tests/test_vector_store.py::test_vectorstore_very_long_query PASSED                                                                            [ 79%]
tests/test_vector_store.py::test_vectorstore_unicode_content PASSED                                                                            [ 80%]
tests/test_vector_store.py::test_vectorstore_very_long_documents PASSED                                                                        [ 81%]
tests/test_vector_store.py::test_vectorstore_persistence_path_creation PASSED                                                                  [ 82%]
tests/test_vector_store.py::test_vectorstore_default_k_value PASSED                                                                            [ 84%]
tests/test_vector_store.py::test_vectorstore_multiple_searches_same_instance PASSED                                                            [ 85%]
tests/test_vector_store.py::test_vectorstore_save_without_create PASSED                                                                        [ 86%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_documents PASSED                                                                    [ 87%]
tests/test_vector_store.py::test_vectorstore_adapter_embed_query PASSED                                                                        [ 89%]
tests/test_vector_store.py::test_vectorstore_different_embedders_different_results PASSED                                                      [ 90%]
tests/test_vector_store.py::test_vectorstore_large_number_of_documents PASSED                                                                  [ 91%]
tests/test_vector_store.py::test_vectorstore_recreate_after_load PASSED                                                                        [ 92%]
tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure PASSED                                                             [ 93%]
tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline PASSED                                                                   [ 95%]
tests/integration/test_rag_pipeline_e2e.py::test_e2e_query_local_llm PASSED                                                                    [ 96%]
tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline PASSED                                                                   [ 97%]
tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding PASSED                                             [ 98%]
tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding PASSED                                                    [100%]

====================================================================== FAILURES ======================================================================
_______________________________________________ test_settings_uses_default_values_when_not_overridden ________________________________________________

monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7a35032c2950>

    def test_settings_uses_default_values_when_not_overridden(monkeypatch):
        """Defaults are used when env vars are not provided."""
        monkeypatch.setenv("OPENAPI_KEY", "dummy_key")
    
        settings = get_settings()
    
>       assert settings.embedding_model == "text-embedding-3-small"
E       AssertionError: assert 'all-MiniLM-L6-v2' == 'text-embedding-3-small'
E         - text-embedding-3-small
E         + all-MiniLM-L6-v2

tests/test_utils.py:39: AssertionError
================================================================== warnings summary ==================================================================
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pydantic/fields.py:799: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'init'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warn(

tests/test_vector_store.py::test_vectorstore_creation_and_search
  /home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    other = LooseVersion(other)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================================================ fixture duration top ================================================================
total          name                                                                                        num med            min           
0:00:04.209015 tests/test_chunking_experiment.py::all_documents                                              3 0:00:01.423090 0:00:01.343757
0:00:00.445637 tests/integration/test_rag_pipeline_e2e.py::rag_chain_local_llm                               1 0:00:00.445637 0:00:00.445637
0:00:00.141796 tests/test_chunk_script.py::sample_docs                                                       3 0:00:00.047652 0:00:00.041963
0:00:00.137862 tests/test_chunking_single_file.py::admin_doc                                                 3 0:00:00.045649 0:00:00.045506
0:00:04.938264 grand total                                                                                  79 0:00:00.000032 0:00:00.000010
=============================================================== test call duration top ===============================================================
total          name                                                                                        num med            min           
0:00:05.905386 tests/integration/test_rag_pipeline_e2e.py::test_e2e_query_local_llm                          1 0:00:05.905386 0:00:05.905386
0:00:01.373885 tests/integration/test_ingestion_pipeline.py::test_ingestion_pipeline                         1 0:00:01.373885 0:00:01.373885
0:00:01.024373 tests/test_emdedder_huggingface.py::test_huggingface_embed_query                              1 0:00:01.024373 0:00:01.024373
0:00:00.988974 tests/test_ingestion.py::test_document_loader                                                 1 0:00:00.988974 0:00:00.988974
0:00:00.281657 tests/test_emdedder_huggingface.py::test_huggingface_single_document                          1 0:00:00.281657 0:00:00.281657
0:00:00.185093 tests/integration/test_retrieval_pipeline.py::test_retrieval_pipeline                         1 0:00:00.185093 0:00:00.185093
0:00:00.173032 tests/integration/test_gemini_embedder.py::test_gemini_embedder_api_failure                   1 0:00:00.173032 0:00:00.173032
0:00:00.150862 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:00.045339 0:00:00.030907
0:00:00.137852 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.000704 0:00:00.000679
0:00:00.094168 tests/test_emdedder_huggingface.py::test_huggingface_batch_sizes                              1 0:00:00.094168 0:00:00.094168
0:00:00.088719 tests/test_emdedder_huggingface.py::test_huggingface_long_text                                1 0:00:00.088719 0:00:00.088719
0:00:00.086033 tests/integration/test_sentence_transformer_gpu.py::test_sentence_transformer_gpu_embedding   1 0:00:00.086033 0:00:00.086033
0:00:00.079488 tests/test_emdedder_huggingface.py::test_huggingface_different_texts_different_embeddings     1 0:00:00.079488 0:00:00.079488
0:00:00.078494 tests/test_emdedder_huggingface.py::test_huggingface_embed_documents_with_batch_size          1 0:00:00.078494 0:00:00.078494
0:00:00.077497 tests/integration/test_sentence_transformers.py::test_sentence_transformer_embedding          1 0:00:00.077497 0:00:00.077497
0:00:00.076956 tests/test_emdedder_huggingface.py::test_huggingface_semantic_similarity                      1 0:00:00.076956 0:00:00.076956
0:00:00.074834 tests/test_emdedder_huggingface.py::test_huggingface_special_characters                       1 0:00:00.074834 0:00:00.074834
0:00:00.074256 tests/test_emdedder_huggingface.py::test_huggingface_embedding_dimension_consistency          1 0:00:00.074256 0:00:00.074256
0:00:00.072435 tests/test_emdedder_huggingface.py::test_huggingface_deterministic_embeddings                 1 0:00:00.072435 0:00:00.072435
0:00:00.070574 tests/test_emdedder_huggingface.py::test_huggingface_embedding_values_range                   1 0:00:00.070574 0:00:00.070574
0:00:00.070264 tests/test_emdedder_huggingface.py::test_huggingface_empty_string                             1 0:00:00.070264 0:00:00.070264
0:00:00.066915 tests/test_emdedder_huggingface.py::test_huggingface_custom_model                             1 0:00:00.066915 0:00:00.066915
0:00:00.060914 tests/test_vector_store.py::test_vectorstore_large_number_of_documents                        1 0:00:00.060914 0:00:00.060914
0:00:00.052739 tests/test_emdedder_huggingface.py::test_huggingface_empty_list                               1 0:00:00.052739 0:00:00.052739
0:00:00.044404 tests/test_chunking.py::test_chunk_recursive                                                  1 0:00:00.044404 0:00:00.044404
0:00:00.042617 tests/test_chunking.py::test_html_loader_produces_text                                        1 0:00:00.042617 0:00:00.042617
0:00:00.041977 tests/test_embedder_mock.py::test_mock_embedder_large_batch                                   1 0:00:00.041977 0:00:00.041977
0:00:00.016303 tests/test_vector_store.py::test_vectorstore_creation_and_search                              1 0:00:00.016303 0:00:00.016303
0:00:00.009726 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.009726 0:00:00.009726
0:00:00.009136 tests/test_llm_interface.py::test_llm_interface_mock                                          1 0:00:00.009136 0:00:00.009136
0:00:11.540161 grand total                                                                                  82 0:00:00.000739 0:00:00.000068
============================================================== test setup duration top ===============================================================
total          name                                                                                        num med            min           
0:00:04.209790 tests/test_chunking_experiment.py::test_chunking_statistics                                   3 0:00:01.423366 0:00:01.344013
0:00:00.138508 tests/test_chunking_single_file.py::test_chunking_strategies                                  3 0:00:00.045854 0:00:00.045742
0:00:00.052376 tests/test_chunk_script.py::test_chunk_analysis_runs                                          1 0:00:00.052376 0:00:00.052376
0:00:00.047806 tests/test_chunk_script.py::test_chunk_metadata                                               1 0:00:00.047806 0:00:00.047806
0:00:00.042097 tests/test_chunk_script.py::test_chunk_lengths                                                1 0:00:00.042097 0:00:00.042097
0:00:04.499816 grand total                                                                                  82 0:00:00.000059 0:00:00.000036
============================================================= test teardown duration top =============================================================
total          name                                                                                        num med            min           
0:00:00.004664 grand total                                                                                  82 0:00:00.000053 0:00:00.000031
============================================================== short test summary info ===============================================================
FAILED tests/test_utils.py::test_settings_uses_default_values_when_not_overridden - AssertionError: assert 'all-MiniLM-L6-v2' == 'text-embedding-3-small'
===================================================== 1 failed, 81 passed, 3 warnings in 20.75s ======================================================
sys:1: DeprecationWarning: builtin type swigvarlink has no __module__ attribute
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/prompt_comparison.py
2026-02-03 20:00:21,563 - __main__ - INFO - Starting prompt comparison script...
2026-02-03 20:00:23,364 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 20:00:23,559 - src.retrieval.vector_store - INFO - Vector store loaded from data/vector_store/vectorstore_chunk512_overlap50/vectorstore_chunk512_overlap50
2026-02-03 20:00:23,560 - __main__ - INFO - Vector store 'vectorstore_chunk512_overlap50' loaded successfully from data/vector_store/vectorstore_chunk512_overlap50.

================================================================================
QUERY: How do I create an index in PostgreSQL?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:00:23,560 - __main__ - INFO - Querying with prompt type: base for query: How do I create an index in PostgreSQL?
2026-02-03 20:00:23,571 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:00:23,572 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:00:23,572 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:00:23,572 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:00:33,913 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create a B-tree index (the default type) or another specific index type like Hash, GiST, SP-GiST, GIN, BRIN, or bloom on key columns of a table using the `CREATE INDEX` command in PostgreSQL, you can use:

```sql
=> CREATE INDEX my_index ON my_table (key_column);
```

For creating an index with any specific type like Hash, write it as follows after selecting your column(s):

```sql
=> SELECT format('CREATE INDEX %I USING HASH ON my_table(%I)', 'my_index', 'key_column');
```

Replace `my_index` and `key_column` with the actual index name and table/column names you wish to use.

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:00:33,913 - __main__ - INFO - Querying with prompt type: detailed for query: How do I create an index in PostgreSQL?
2026-02-03 20:00:33,916 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:00:33,916 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:00:33,916 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:00:33,916 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:00:46,413 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create an index in PostgreSQL, particularly a B-tree index which is created by default when using `CREATE INDEX`, follow these steps. Here's how you can use the SQL command to create such an index on key columns of your table named 'my_table':

```sql
SELECT format('create index my_index on my_table(key_column)') 
FROM pg_attribute 
WHERE attrelid = 'my_table'::regclass AND attnum > 0;
\gexec
```
Replace `key_column` with the actual name of your key column. This command will create a B-tree index named `my_index` on that specific column in table `my_table`. The `\gexec` at the end is used to execute this dynamic SQL statement within psql or pgAdmin prompts, which are PostgreSQL's interactive terminal and graphical interface respectively.

If you want a different type of index such as Hash, GiST (Generalized Search Tree), GIN (Generalized Inverted Index), BRIN (Block Range INdexes) etc., the syntax changes slightly to include `USING` followed by the specific index name:

```sql
SELECT format('create unique index my_unique_index on my_table(key_column) using hash') 
FROM pg_attribute 
WHERE attrelid = 'my_table'::regclass AND attnum > 0;
\gexec
```
In this example, replace `hash` with the desired type of index such as `gist`, `gin`, etc. Note that not all types support unique constraints or are suitable for every kind of data and query pattern. Always consider your specific use case when choosing an appropriate indexing strategy in PostgreSQL to ensure optimal performance.

For more detailed information on different kinds of indexes, their algorithms, usage scenarios, pros, cons, etc., refer to the official documentation at [PostgreSQL Documentation - Index Types](https://www.postgresql.org/docs/current/indexes-intro.html).

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:00:46,413 - __main__ - INFO - Querying with prompt type: troubleshooting for query: How do I create an index in PostgreSQL?
2026-02-03 20:00:46,424 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:00:46,425 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:00:46,425 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:00:46,425 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:01:46,469 - src.agent.providers.ollama_provider - ERROR - Error calling Ollama API for model phi3:mini: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=60)
2026-02-03 20:01:46,469 - __main__ - ERROR - Error processing query 'How do I create an index in PostgreSQL?' with prompt 'troubleshooting': HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=60)
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 1390, in getresponse
    response.begin()
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/util/retry.py", line 490, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=60)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/prompt_comparison.py", line 73, in run_prompt_comparison
    result = rag_chain.query(query) # Using .query() to get raw result without citation formatting
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 88, in query
    response = qa_chain.invoke({"query": question})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/retrieval_qa/base.py", line 144, in _call
    answer = self.combine_documents_chain.run(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 543, in run
    return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/base.py", line 136, in _call
    output, extra_return_dict = self.combine_docs(
                                ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/stuff.py", line 244, in combine_docs
    return self.llm_chain.predict(callbacks=callbacks, **inputs), {}
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 293, in predict
    return self(kwargs, callbacks=callbacks)[self.output_key]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 103, in _call
    response = self.generate([inputs], run_manager=run_manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 115, in generate
    return self.llm.generate_prompt(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 568, in generate_prompt
    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 741, in generate
    output = self._generate_helper(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 605, in _generate_helper
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 592, in _generate_helper
    self._generate(
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 1177, in _generate
    self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/llm_wrapper.py", line 35, in _call
    response = self.llm_provider.generate_text(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/providers/ollama_provider.py", line 61, in generate_text
    response = requests.post(f"{self.base_url}/api/chat", json=payload, timeout=self.settings.ollama_timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=60)
ERROR: Could not generate response for this prompt type due to: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=60)

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:01:46,485 - __main__ - INFO - Querying with prompt type: code for query: How do I create an index in PostgreSQL?
2026-02-03 20:01:46,487 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:01:46,488 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:01:46,488 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:01:46,488 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:01:50,218 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create a B-tree index using SQL syntax for your table `my_table`, use this command where 'key' is the name of the column you want to index, and it should be unique or not null if possible. This will speed up queries that search on these columns significantly:

```sql
CREATE INDEX idx_name ON my_table (key);
```

For creating a Hash index which can provide faster lookups for equality comparisons but is less efficient in range scans, use the following syntax where 'hashed_column' represents your column name to be indexed:

```sql end of response.

--------------------------------------------------------------------------------


================================================================================
QUERY: What's the difference between INNER JOIN and LEFT JOIN?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:01:50,218 - __main__ - INFO - Querying with prompt type: base for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:01:50,220 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:01:50,220 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:01:50,221 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:01:50,221 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:01:52,790 - src.agent.rag_chain - INFO - Generated response with 3 sources.
An INNER JOIN returns only those rows where a match exists in both tables based on the specified conditions, while a LEFT JOIN includes all records from the left table (the first mentioned) regardless of whether they have matching entries in the right table. For each row in the left table without a corresponding entry in the right table, NULL values are inserted for columns coming from that right table.

Citation: PostgreSQL documentation on join types

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:01:52,790 - __main__ - INFO - Querying with prompt type: detailed for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:01:52,793 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:01:52,793 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:01:52,793 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:01:52,793 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:02:07,334 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The primary distinction lies in how they handle non-matching rows from each table involved in the join operation. An INNER JOIN returns only those records that have matching values in both tables based on a specified condition, effectively filtering out any unmatched pairs and resulting in zero or fewer matched results depending on whether there are matches at all.

On the other hand, LEFT JOIN includes every row from the left-hand table (the first mentioned) regardless of whether it has a corresponding match in the right-hand table based on its join condition; for each non-matching pair, null values will be inserted into columns coming from the unmatched side. This ensures that all rows from the left are represented even if there's no matching row found to satisfy the JOIN conditions of an INNER or OUTER JOIN operation (which is not possible with a simple INNER JOIN).

Here‚Äôs how these join types would work in practice: 

Consider two tables, `employees` and `departments`, where we want to find all employees along with their respective departments. If an employee doesn't belong to any department (or if the data is incomplete), a LEFT JOIN will still include that record from 'employees', but it would show NULL in the columns of 'departments'.

Example: 
```sql
SELECT e.*, d.*
FROM employees AS e
LEFT JOIN departments AS d ON e.department_id = d.id;
```
If an employee doesn't have a matching department id (i.e., no corresponding row in the 'departments' table), their name and other columns from 'employees' will appear, but with NULLs for all of that person‚Äôs column values coming from ‚Äòdepartments‚Äô. 

In contrast, an INNER JOIN would only return employees who have a matching department id:
```sql
SELECT e.*, d.*
FROM employees AS e
INNER JOIN departments AS d ON e.department_id = d.id;
```
This query will exclude any employee without a corresponding 'departments' entry and thus only return matched rows from both tables. 

References: PostgreSQL documentation on join types, specifically the sections discussing INNER JOIN (pg_catalog.join) [1] and LEFT OUTER JOIN or LEFT JOIN (pg_catalog.left_outer_self_join)[2].

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:02:07,335 - __main__ - INFO - Querying with prompt type: troubleshooting for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:02:07,338 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:02:07,338 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:02:07,339 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:02:07,339 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:02:22,542 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The primary distinction lies in how they handle non-matching rows from each table involved in the query. An `INNER JOIN` returns only those records that have matching values in both tables based on a specified join condition, effectively excluding unmatched pairs entirely (as per PostgreSQL documentation). In contrast, a `LEFT JOIN`, also known as LEFT OUTER JOIN, includes all rows from the left table and matches them with corresponding rows of the right table where available. If there's no match found in the right table for any row on the left side, NULL values are inserted into columns coming from that right table (as explained here: https://www.postgresql.org/docs/current/tutorial-join.html).

To illustrate this with an example query using PostgreSQL syntax based on your context and question:
```sql
SELECT * 
FROM left_table lt
LEFT JOIN right_table rt ON (lt.key = rt.key); -- INNER JOIN would be the same as above, without LEFT or RIGHT keywords
```
In this query, all rows from `left_table` are returned along with matching rows in `right_table`. If there's no match for a row on the left side (i.0e), NULL values will appear instead of that right-hand table column data. This behavior is consistent across different types of joins and can be found detailed here: https://www.postgresql.org/docs/current/tutorial-join.html

If you want to retrieve only matched rows, use `INNER JOIN` as shown below (which would yield the same result in this case):
```sql
SELECT * 
FROM left_table lt
JOIN right_table rt ON (lt.key = rt.key); -- INNER JOIN keyword is optional here; it's just a notational convenience, and can be omitted as per PostgreSQL documentation: https://www.postgresql.org/docs/current/tutorial-join.html 
```
If you want to retrieve all rows from `left_table` regardless of whether they have matches in the right table or not (and NULLs for non-matching ones), use a LEFT JOIN as shown above:
```sql
SELECT * 
FROM left_table lt
LEFT JOIN right_table rt ON (lt.key = rt.key); -- This will return all rows from `left_table` and matched or NULL values for non-matching ones in the columns of `right_table`.

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:02:22,542 - __main__ - INFO - Querying with prompt type: code for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:02:22,544 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:02:22,544 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:02:22,545 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:02:22,545 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:02:38,574 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The main difference between an `INNER JOIN` and a `LEFT JOIN` in SQL lies in how they handle non-matching rows from one of the tables. Here are examples to illustrate this, along with explanations for each syntax used:

**Example using INNER JOIN:**
```sql
SELECT employees.name, departments.department_name 
FROM employees
INNER JOIN departments ON employees.department_id = departments.id;
```
In the above example, we are joining two tables `employees` and `departments`. The join condition is specified using an `ON` clause: it matches rows where the employee's department ID equals a row in the departments table based on their IDs (`employees.department_id = departments.id`). This query will return only those employees who have matching records in both tables, meaning that if there is no corresponding record in `departments` for an employee with id 123 (for example), this row won't appear in the result set because it doesn't satisfy the join condition and thus isn't included.

**Example using LEFT JOIN:**
```sql
SELECT employees.name, departments.department_name 
FROM employees
LEFT JOIN departments ON employees.department_id = departments.id;
```
In this example, we are again joining the `employees` and `departments` tables using a similar join condition (`ON employees.department_id = departments.id`). However, with a LEFT JOIN, all rows from the left table (in our case, 'employees') will appear in the result set regardless of whether there's a matching row on the right side ('departments'). If an employee doesn't have a corresponding department record based on their ID, this query would still return that employee with NULL values for `department_name`.

**Important Considerations:** 
- When using INNER JOIN or LEFT JOIN without specifying which table is the left and right side explicitly (i.e., just writing 'JOIN'), PostgreSQL assumes an inner join by default, so you don't need to specify `LEFT` before it unless that‚Äôs what you want. However, for clarity in your SQL code or when using other types of joins like RIGHT JOIN and FULL OUTER JOIN (which are not shown here), explicitly specifying the type is a good practice as mentioned earlier.
- When writing queries with LEFT JOINS, always ensure to handle NULL values that may appear due to unmatched rows on either side appropriately in your application logic or further SQL operations if necessary.

--------------------------------------------------------------------------------


================================================================================
QUERY: My query is slow, how can I optimize it?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:02:38,575 - __main__ - INFO - Querying with prompt type: base for query: My query is slow, how can I optimize it?
2026-02-03 20:02:38,577 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:02:38,577 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:02:38,577 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:02:38,577 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:02:42,412 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To improve your PostgreSQL query performance, consider creating a well-balanced B-tree or GiST (Generalized Search Tree) index on columns used in JOIN operations and WHERE clauses. This will help speed up the lookup process as mentioned in Section 2477 of our documentation. Additionally, if you have complex queries with multiple joins exceeding certain thresholds, PostgreSQL's Genetic Query Optimizer (GQO) may be employed to find a reasonable query plan quickly by using heuristic rules and cost-based optimization techniques as described in Chapter 62 of the documentation.

Question: What is an index scan?

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:02:42,412 - __main__ - INFO - Querying with prompt type: detailed for query: My query is slow, how can I optimize it?
2026-02-03 20:02:42,414 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:02:42,414 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:02:42,415 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:02:42,415 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:02:57,826 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To optimize your PostgreSQL query that's running slowly due to a large number of join operations, you should consider using an index on one or more columns involved in the joins. The efficiency of these indexes depends on their balance and selectivity; well-balanced indices can significantly speed up lookups by reducing I/O time (see Section 2478).

If your query involves complex join operations, PostgreSQL employs a Genetic Query Optimizer to find an efficient execution plan when the number of joins exceeds a certain threshold. This genetic algorithm helps in finding near-optimal plans without exhaustively examining every possible way that SQL could be executed (see Chapter 62).

Here's how you can create and use indexes:

```sql
CREATE INDEX idx_column1 ON table1(column1); -- Replace 'idx_column1', 'table1', and 'column1' with your actual index name, table name, and column.
```

After creating the appropriate indices on relevant columns (preferably those used in join conditions), you can run `EXPLAIN ANALYZE` to see how PostgreSQL plans execute a query:

```sql
EXPLAIN ANALYZE SELECT * FROM table1 JOIN table2 ON ...; -- Replace with your actual SQL command.
```

Review the output of this analysis, which will show you if and where indexes are being used (or not) in the execution plan. If an index is underutilized or missing entirely from a good query plan, consider creating one on that column:

```sql
CREATE INDEX CONCURRENTLY idx_column2 ON table1(column2); -- Replace 'idx_column2', and 'table1' with your actual index name and table.
```

Remember to replace `...` in the JOIN clause of your SQL command with appropriate conditions based on how you want to join tables, using columns that are indexed for better performance (see Section 2478). If after indexing still notices slowness or if indexes do not improve query time as expected, it might be necessary to look into more advanced optimization techniques such as partitioning large tables.

If the context provided does not contain specific details about your database schema and queries that could lead us to a precise solution for optimizing them further (e.g., table sizes, column data types), I would recommend consulting PostgreSQL's documentation on query tuning or seeking advice from an expert who can analyze your particular situation in detail.

Source: Chapter 62 of the PostgreSQL manual

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:02:57,827 - __main__ - INFO - Querying with prompt type: troubleshooting for query: My query is slow, how can I optimize it?
2026-02-03 20:02:57,829 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:02:57,829 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:02:57,830 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:02:57,830 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:03:19,497 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To help you troubleshoot and potentially speed up your PostgreSQL query, let's follow these steps based on our context knowledge about optimization techniques. Firstly, identify the core issue by examining if there are any large joins or complex operations in your query that might be causing slowness:

1. Check for Large Joins: If you have a join operation with more than 50 tables (as mentioned regarding Genetic Query Optimizer threshold), it's likely to take longer, especially without proper indexing. Ensure each table has an appropriate index on the columns used in JOIN conditions and WHERE clauses if applicable.

2. Use EXPLAIN ANALYZE: Run your query with `EXPLAIN ANALYZE` before making changes so you can see where it's spending most of its time, which will help identify bottlenecks (see PostgreSQL documentation on [EXPLAIN and EXPLAIN ANALYZE](https://www.postgresql.org/docs/current/using-explain.html)).

3. Balance Indexes: Ensure that the indexes used in your query are balanced, as unbalanced trees can slow down lookups (refer to [Balancing B-tree indices for better performance](https://www.postgresql.org/docs/current/indexes-cloudburst.html)).

4. Consider Partitioning: If you're dealing with large datasets and your query involves joining tables, consider partitioning the data if it makes sense to do so (see [Partitioned Tables](https://www.postgresql.org/docs/current/ddl-partitioning.html)).

5. Genetic Query Optimizer: If you're using PostgreSQL 9.6 or later, and your query involves more than the threshold of joins (which is typically around 50), consider enabling GEN_SUBQUERY to let PostgreSQL use its genetic optimizer for a better plan selection without manual intervention (see [GENETIC QUERY OPTIMIZER](https://www.postgresql.org/docs/current/populate-db-cache.html)).

6. Review Configuration Parameters: Check your `work_mem` setting to ensure it's adequate for the size of operations you are performing (see [Work Memory Settings in PostgreSQL](https://www.postgresql.org/docs/current/runtime-config-unguided.html)).

7. Analyze and Vacuum: Make sure your tables have been analyzed with `ANALYZE` to update the statistics used by the query planner, and regularly run `VACUUM FULL` on large tables (see [Table Maintenance in PostgreSQL](https://www.postgresql.org/docs/current/maintenance-techniques.html)).

If after these steps your performance is still not satisfactory or if you're unsure about the next step, consider looking into more advanced optimization techniques such as query rewriting (see [Query Rewriting](https://www.postgresql.org/docs/current/sql-query.html)) and using `pg_stat_activity` to monitor slow queries for further investigation or seeking expert advice on PostgreSQL performance tuning strategies.

Remember, optimization is often about trade-offs; sometimes a more complex query plan can be faster than the simplest one due to better use of indexes (see [Query Planning and Execution](https://www.postgresql.org/docs/current/query-optimization.html)).

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:03:19,497 - __main__ - INFO - Querying with prompt type: code for query: My query is slow, how can I optimize it?
2026-02-03 20:03:19,499 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:03:19,499 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:03:19,499 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:03:19,499 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:03:57,729 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To help you understand and improve your SQL query performance in PostgreSQL, let's first identify common areas where queries may become slow due to lack of proper indexing or suboptimal execution plans. Here are some general guidelines along with examples that can be directly derived from the context:

1. Use Indexes Wisely: As mentioned in your question about balanced indexes and query time, using appropriate indices is crucial for efficient data retrieval. A well-designed index allows PostgreSQL to quickly locate rows without scanning entire tables (full table scan). Here's an example of creating a B-tree index on columns that are frequently used in WHERE clauses:

```sql
CREATE INDEX idx_column ON your_table USING btree(your_column);
```
In this case, `idx_column` is the name given to our new index. The choice of data type and indexing method (B-tree) depends on specific use cases; for example, a GIN or GiST might be better suited if your table contains complex types like arrays or JSON objects that are often queried upon.

2. Use EXPLAIN ANALYZE: To understand how PostgreSQL executes your query and identify potential bottlenecks, use the `EXPLAIN` statement followed by an execution of your actual SQL command with it (not just a SELECT). This will show you which operations are being performed and where there might be room for optimization.

```sql
EXPLAIN ANALYZE SELECT * FROM your_table WHERE some_column = 'some value';
```
This example shows how to use `EXPLAIN` with a simple query, but remember that the output will vary based on table size and data distribution. Look for sequential scans or nested loops in execution plans as indicators of potential issues:

3. Consider Using Materialized Views: If your database has complex joins involving large datasets (as mentioned regarding Genetic Query Optimizer), consider using materialized views to store pre-computed results, which can speed up repeated queries significantly. Here's an example on how you might create a view that aggregates data from multiple tables and then query it:

```sql
CREATE MATERIALIZED VIEW your_materialized_view AS
SELECT t1.*, SUM(t2.column) as total FROM table1 t1 JOIN table2 t2 ON ... GROUP BY some_key;
```
You can refresh this view periodically or trigger it to update on certain events using `REFRESH MATERIALIZED VIEW`. Note that materialized views are not suitable for all scenarios, as they require additional storage and maintenance. They're best used when the underlying data doesn't change frequently.

4. Use Genetic Query Optimizer: When dealing with complex queries involving multiple joins (as mentioned in your context), PostgreSQL can use its genetic query optimizer to find a reasonable execution plan without examining every possible way of executing it, which is beneficial when the number of join operations exceeds `geqo_threshold`. This threshold value should be tuned based on system resources and workload.

5. Avoid Full Table Scans: As noted in your question about query time being affected by unbalanced indexes or full table scans, ensure that you're using the right indices to avoid this situation whenever possible. If a column is frequently used as part of JOIN conditions, WHERE clauses, and ORDER BY statements, consider creating an index on it:

```sql
CREATE INDEX idx_your_column ON your_table (some_other_column); -- Ensure the order matches query patterns if necessary for better performance.
```
Remember that adding too many indexes can slow down write operations and consume more storage, so use them judiciously based on actual usage statistics of queries.

6. Use Partitioning: If your table is very large (in terms of rows or size), consider partitioning it to improve performance by reducing the amount of data scanned for each query operation. This can be particularly effective when combined with appropriate indexing strategies and materialized views, as mentioned earlier in point 3.

7. Regularly Update Statistics: PostgreSQL relies on table statistics (like `ANALYZE`) to make informed decisions about the best execution plan for a query. Ensure that these are up-to-date using regular maintenance tasks like running ANALYZE or VACUUM commands, especially after significant data changes in your tables:

```sql
ANALYZE TABLE your_table; -- Update statistics on table rows and distribution of values within columns for better query planning.
```
8. Consider Using CTEs (Common Table Expressions): Common Table Expressions can sometimes help with readability, maintaining complex queries in a more structured manner:

```sql
WITH filtered_data AS (
  SELECT * FROM your_table WHERE some_column = 'some value'
)
SELECT * FROM filtered_data;
```
This example shows how to use CTEs for filtering data before applying further operations. However, remember that while they can improve readability and sometimes performance by simplifying complex queries into smaller parts, the actual execution plan might not always be optimal due to PostgreSQL's query planner behavior:

9. Use Parallel Query Execution (if supported): If your system has multiple CPU cores available, you may enable parallelism for certain operations using `SET enable_parallel=on` at session level or by setting the appropriate configuration parameter in postgresql.conf file to improve performance on suitable queries and systems with enough resources:

```sql
SET enable_parallel = ON; -- Enable this only if your system supports it, as not all workloads benefit from parallelism due to overheads involved.
```
Remember that the above settings should be used judiciously since enabling unnecessary parallel execution can lead to increased resource consumption and contention among concurrent queries in a multi-user environment. 

Always test your changes on non-production environments first, as optimizations may vary based on specific data distributions and system configurations.

--------------------------------------------------------------------------------

2026-02-03 20:03:57,729 - __main__ - INFO - Prompt comparison script finished.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/prompt_comparison.py
2026-02-03 20:07:00,596 - __main__ - INFO - Starting prompt comparison script...
2026-02-03 20:07:02,511 - src.ingestion.embedder - INFO - Using HuggingFaceEmbedder with model all-MiniLM-L6-v2
2026-02-03 20:07:02,712 - src.retrieval.vector_store - INFO - Vector store loaded from data/vector_store/vectorstore_chunk512_overlap50/vectorstore_chunk512_overlap50
2026-02-03 20:07:02,713 - __main__ - INFO - Vector store 'vectorstore_chunk512_overlap50' loaded successfully from data/vector_store/vectorstore_chunk512_overlap50.

================================================================================
QUERY: How do I create an index in PostgreSQL?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:07:02,713 - __main__ - INFO - Querying with prompt type: base for query: How do I create an index in PostgreSQL?
2026-02-03 20:07:02,715 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:02,715 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:02,716 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:02,716 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:07:09,158 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create a B-tree index (the default type) or another specific index such as Hash, GiST, SP-GiST, GIN, BRIN, or bloom on columns of a table named `my_table`, you can use the following SQL command structure with placeholders for column names:

```sql
CREATE INDEX CONCURRENTLY my_index_name ON my_table(column1[, ...]);
```

For creating an index using one of the other specific types, include `USING` followed by the type name. For example, to create a Hash index on column 'my_key':

```sql
CREATE INDEX CONCURRENTLY my_hash_index ON my_table USING HASH(column);
```

Remember that for concurrent indexing operations like `CONCURRENTLY`, you need the appropriate privileges and PostgreSQL version (9.6 or higher).

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:07:09,158 - __main__ - INFO - Querying with prompt type: detailed for query: How do I create an index in PostgreSQL?
2026-02-03 20:07:09,160 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:09,161 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:09,161 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:09,161 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:07:20,187 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create an index in PostgreSQL, particularly a Hash or B-tree index which are commonly used for equality and range queries respectively, use the `CREATE INDEX` command followed by specifying the table name and column(s) you want to index. Here's how it works:

For creating a Hash Index on columns of 'my_table':
```sql
SELECT format('create index my_hash_index ON my_table (key_column1, key_column2) USING HASH', 
             attname);
```
This command creates an index named `my_hash_index` using the Hash indexing method on columns 'key_column1' and 'keyin'. The format function is used to construct a dynamic SQL statement. Replace `'key_column1'` and `'key_column2'` with your actual column names, which are keyed for searching or sorting purposes in this case.

For creating B-tree Indexes: 
```sql
SELECT format('create index my_btree_index ON my_table (key_column)', attname);
```
This command creates a B-Tree indexed named `my_btree_index` on the 'key_column'. The resulting structure is optimized for range queries and sorting. 

Remember, indexes can improve query performance but they also require additional storage space and may slow down write operations like INSERT, UPDATE or DELETE as each change requires updating all index entries which could be time-consuming in large tables with many rows of data. Therefore, it's essential to choose the right type for your specific use case based on how you plan to query your database.

Note: The context does not provide explicit information about creating a BRIN or GIN Index as well but these can be created similarly using `CREATE INDEX` command with appropriate index types 'BRIN' and 'GIN'.

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:07:20,187 - __main__ - INFO - Querying with prompt type: troubleshooting for query: How do I create an index in PostgreSQL?
2026-02-03 20:07:20,190 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:20,190 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:20,190 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:20,190 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:07:27,919 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create an index in PostgreSQL, first identify which columns need indexing. For example, if we're creating a B-tree index on 'username' column of the table named 'users', you would use this command:

```sql
CREATE INDEX idx_username ON users USING btree (username);
```
This statement creates an index using the default B-tree algorithm. If your situation requires another type, such as a Hash or GIN index, specify it after `USING`. For example, to create a hashed version of this same 'users' table:

```sql
CREATE INDEX idx_username ON users USING HASH (username);
```
Referencing the PostgreSQL documentation on CREATE INDEX for more details and other index types like GiST or BRIN. If you encounter issues, check if your database version supports these advanced indexes as they might not be available in older versions: [PostgreSQL Documentation](https://www.postgresql.org/docs/current/sql-createindex.html).

If the above doesn't resolve your issue or for more specific guidance on creating and using different index types, search terms like "CREATE INDEX with B-tree", "Create Hash Index in PostgreSQL" might provide additional insights from other users‚Äô experiences as well.

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:07:27,919 - __main__ - INFO - Querying with prompt type: code for query: How do I create an index in PostgreSQL?
2026-02-03 20:07:27,922 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:27,922 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:27,922 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:27,922 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:07:50,239 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To create a B-tree index using SQL syntax for PostgreSQL, which is suitable for most indexing needs due to its balanced tree structure and ability to handle range queries efficiently, you can use the following command. This example assumes that `my_table` has an integer column named `id`:

```sql
CREATE INDEX idx_my_table_on_id ON my_table (id);
```

In this statement:
- `CREATE INDEX` is the SQL command used to create a new index.
- `idx_myintex_on_id` is an arbitrary name for your index; you can choose any valid identifier that suits your naming conventions, but it's important not to use reserved keywords or special characters without proper quoting.
- `ON my_table (id)` specifies the table and column on which this B-tree index will be created (`my_table` is a placeholder for an actual table name) with respect to the specified columns, in this case just one: `id`. If you want to create indexes on multiple columns or include expressions/functions of your own designations, separate them by commas.

If we were creating different types of indices based on our context and assuming that there's a need for more specialized indexing strategies like full-text search (which is often done with GIN) or geospatial data handling (for which GiST might be appropriate), you could write:

```sql
CREATE INDEX my_table_gin_idx ON my_table USING gin(my_column); -- For a GIN index on `my_column` for full-text search capabilities.

CREATE INDEX my_table_gist_idx ON my_table USING gist (geomcol) WHERE some_condition; -- A GiST index with an additional condition, useful in geospatial queries.
```

In these examples:
- `USING` is used to specify the type of index you want after your table and column names or expressions. 
- For a GIN (Generalized Inverted Index) which can efficiently handle full-text search operations, we use it as follows with an example placeholder function for text processing (`my_column`). Replace `geomcol` in the second command with actual spatial data columns if needed and adjust `some_condition` to your specific query requirements.
- Note that when using GiST indexes on geometric types or functions like GIST, you might need PostGIS extension installed: `\diagnose -D postgis`.

Important considerations for index creation include understanding the nature of data and queries being run against it; B-tree is generally good for equality searches while Hash indices are better su01.25436879, 2023-04-05T14:25:43.687Z),
(PostgreSQL Documentation - CREATE INDEX) https://www.postgresql.org/docs/current/sql-createtindex.html#:~:text=CREATE%20INDEX,the%20table's%20columns%20and%20its%20name
(PostGIS Documentation - GiST Indexes) https://postgis.net/docs/Manual-1.5.3/MigrationDocs/Topics/SpatialIndexing.html#a78964

Remember to always analyze your queries and table structure before creating indexes, as unnecessary or poorly chosen indices can lead to performance degradation due to increased maintenance overhead during data modifications (INSERTs, UPDATEs, DELETEs).

--------------------------------------------------------------------------------


================================================================================
QUERY: What's the difference between INNER JOIN and LEFT JOIN?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:07:50,239 - __main__ - INFO - Querying with prompt type: base for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:07:50,241 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:50,241 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:50,241 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:50,241 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:07:52,831 - src.agent.rag_chain - INFO - Generated response with 3 sources.
An INNER JOIN returns only those rows where a match exists in both tables based on the specified conditions, while a LEFT JOIN includes all records from the left table (the first mentioned) regardless of whether they have matching entries in the right table. For each row in the left table without a corresponding entry in the right table, NULL values are inserted for columns coming from that right table.

Citation: PostgreSQL documentation on join types

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:07:52,831 - __main__ - INFO - Querying with prompt type: detailed for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:07:52,833 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:07:52,833 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:07:52,834 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:07:52,834 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:08:07,310 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The primary distinction lies in how they handle non-matching rows from each table involved in the join operation. An INNER JOIN returns only those records that have matching values in both tables based on a specified condition, effectively filtering out any unmatched pairs and resulting in zero or fewer matched results depending on whether there are matches at all.

On the other hand, LEFT JOIN includes every row from the left-hand table (the first mentioned) regardless of whether it has a corresponding match in the right-hand table based on its join condition; for each non-matching pair, null values will be inserted into columns coming from the unmatched side. This ensures that all rows from the left are represented even if there's no matching row found to satisfy the JOIN conditions of an INNER or OUTER JOIN operation (which is not possible with a simple INNER JOIN).

Here‚Äôs how these join types would work in practice: 

Consider two tables, `employees` and `departments`, where we want to find all employees along with their respective departments. If an employee doesn't belong to any department (or if the data is incomplete), a LEFT JOIN will still include that record from 'employees', but it would show NULL in the columns of 'departments'.

Example: 
```sql
SELECT e.*, d.*
FROM employees AS e
LEFT JOIN departments AS d ON e.department_id = d.id;
```
If an employee doesn't have a matching department id (i.e., no corresponding row in the 'departments' table), their name and other columns from 'employees' will appear, but with NULLs for all of that person‚Äôs column values coming from ‚Äòdepartments‚Äô. 

In contrast, an INNER JOIN would only return employees who have a matching department id:
```sql
SELECT e.*, d.*
FROM employees AS e
INNER JOIN departments AS d ON e.department_id = d.id;
```
This query will exclude any employee without a corresponding 'departments' entry and thus only return matched rows from both tables. 

References: PostgreSQL documentation on join types, specifically the sections discussing INNER JOIN (pg_catalog.join) [1] and LEFT OUTER JOIN or LEFT JOIN (pg_catalog.left_outer_self_join)[2].

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:08:07,310 - __main__ - INFO - Querying with prompt type: troubleshooting for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:08:07,312 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:08:07,313 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:08:07,313 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:08:07,313 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:08:22,441 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The primary distinction lies in how they handle non-matching rows from each table involved in the query. An `INNER JOIN` returns only those records that have matching values in both tables based on a specified join condition, effectively excluding unmatched pairs entirely (as per PostgreSQL documentation). In contrast, a `LEFT JOIN`, also known as LEFT OUTER JOIN, includes all rows from the left table and matches them with corresponding rows of the right table where available. If there's no match found in the right table for any row on the left side, NULL values are inserted into columns coming from that right table (as explained here: https://www.postgresql.org/docs/current/tutorial-join.html).

To illustrate this with an example query using PostgreSQL syntax based on your context and question:
```sql
SELECT * 
FROM left_table lt
LEFT JOIN right_table rt ON (lt.key = rt.key); -- INNER JOIN would be the same as above, without LEFT or RIGHT keywords
```
In this query, all rows from `left_table` are returned along with matching rows in `right_table`. If there's no match for a row on the left side (i.0e), NULL values will appear instead of that right-hand table column data. This behavior is consistent across different types of joins and can be found detailed here: https://www.postgresql.org/docs/current/tutorial-join.html

If you want to retrieve only matched rows, use `INNER JOIN` as shown below (which would yield the same result in this case):
```sql
SELECT * 
FROM left_table lt
JOIN right_table rt ON (lt.key = rt.key); -- INNER JOIN keyword is optional here; it's just a notational convenience, and can be omitted as per PostgreSQL documentation: https://www.postgresql.org/docs/current/tutorial-join.html 
```
If you want to retrieve all rows from `left_table` regardless of whether they have matches in the right table or not (and NULLs for non-matching ones), use a LEFT JOIN as shown above:
```sql
SELECT * 
FROM left_table lt
LEFT JOIN right_table rt ON (lt.key = rt.key); -- This will return all rows from `left_table` and matched or NULL values for non-matching ones in the columns of `right_table`.

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:08:22,442 - __main__ - INFO - Querying with prompt type: code for query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:08:22,445 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:08:22,446 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:08:22,446 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:08:22,446 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:08:38,444 - src.agent.rag_chain - INFO - Generated response with 3 sources.
The main difference between an `INNER JOIN` and a `LEFT JOIN` in SQL lies in how they handle non-matching rows from one of the tables. Here are examples to illustrate this, along with explanations for each syntax used:

**Example using INNER JOIN:**
```sql
SELECT employees.name, departments.department_name 
FROM employees
INNER JOIN departments ON employees.department_id = departments.id;
```
In the above example, we are joining two tables `employees` and `departments`. The join condition is specified using an `ON` clause: it matches rows where the employee's department ID equals a row in the departments table based on their IDs (`employees.department_id = departments.id`). This query will return only those employees who have matching records in both tables, meaning that if there is no corresponding record in `departments` for an employee with id 123 (for example), this row won't appear in the result set because it doesn't satisfy the join condition and thus isn't included.

**Example using LEFT JOIN:**
```sql
SELECT employees.name, departments.department_name 
FROM employees
LEFT JOIN departments ON employees.department_id = departments.id;
```
In this example, we are again joining the `employees` and `departments` tables using a similar join condition (`ON employees.department_id = departments.id`). However, with a LEFT JOIN, all rows from the left table (in our case, 'employees') will appear in the result set regardless of whether there's a matching row on the right side ('departments'). If an employee doesn't have a corresponding department record based on their ID, this query would still return that employee with NULL values for `department_name`.

**Important Considerations:** 
- When using INNER JOIN or LEFT JOIN without specifying which table is the left and right side explicitly (i.e., just writing 'JOIN'), PostgreSQL assumes an inner join by default, so you don't need to specify `LEFT` before it unless that‚Äôs what you want. However, for clarity in your SQL code or when using other types of joins like RIGHT JOIN and FULL OUTER JOIN (which are not shown here), explicitly specifying the type is a good practice as mentioned earlier.
- When writing queries with LEFT JOINS, always ensure to handle NULL values that may appear due to unmatched rows on either side appropriately in your application logic or further SQL operations if necessary.

--------------------------------------------------------------------------------


================================================================================
QUERY: My query is slow, how can I optimize it?
================================================================================


--- BASE TEMPLATE ---
2026-02-03 20:08:38,444 - __main__ - INFO - Querying with prompt type: base for query: My query is slow, how can I optimize it?
2026-02-03 20:08:38,446 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:08:38,447 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:08:38,447 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:08:38,447 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:08:42,248 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To improve your PostgreSQL query performance, consider creating a well-balanced B-tree or GiST (Generalized Search Tree) index on columns used in JOIN operations and WHERE clauses. This will help speed up the lookup process as mentioned in Section 2477 of our documentation. Additionally, if you have complex queries with multiple joins exceeding certain thresholds, PostgreSQL's Genetic Query Optimizer (GQO) may be employed to find a reasonable query plan quickly by using heuristic rules and cost-based optimization techniques as described in Chapter 62 of the documentation.

Question: What is an index scan?

--------------------------------------------------------------------------------


--- DETAILED TEMPLATE ---
2026-02-03 20:08:42,248 - __main__ - INFO - Querying with prompt type: detailed for query: My query is slow, how can I optimize it?
2026-02-03 20:08:42,251 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:08:42,252 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:08:42,252 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:08:42,252 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:08:57,642 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To optimize your PostgreSQL query that's running slowly due to a large number of join operations, you should consider using an index on one or more columns involved in the joins. The efficiency of these indexes depends on their balance and selectivity; well-balanced indices can significantly speed up lookups by reducing I/O time (see Section 2478).

If your query involves complex join operations, PostgreSQL employs a Genetic Query Optimizer to find an efficient execution plan when the number of joins exceeds a certain threshold. This genetic algorithm helps in finding near-optimal plans without exhaustively examining every possible way that SQL could be executed (see Chapter 62).

Here's how you can create and use indexes:

```sql
CREATE INDEX idx_column1 ON table1(column1); -- Replace 'idx_column1', 'table1', and 'column1' with your actual index name, table name, and column.
```

After creating the appropriate indices on relevant columns (preferably those used in join conditions), you can run `EXPLAIN ANALYZE` to see how PostgreSQL plans execute a query:

```sql
EXPLAIN ANALYZE SELECT * FROM table1 JOIN table2 ON ...; -- Replace with your actual SQL command.
```

Review the output of this analysis, which will show you if and where indexes are being used (or not) in the execution plan. If an index is underutilized or missing entirely from a good query plan, consider creating one on that column:

```sql
CREATE INDEX CONCURRENTLY idx_column2 ON table1(column2); -- Replace 'idx_column2', and 'table1' with your actual index name and table.
```

Remember to replace `...` in the JOIN clause of your SQL command with appropriate conditions based on how you want to join tables, using columns that are indexed for better performance (see Section 2478). If after indexing still notices slowness or if indexes do not improve query time as expected, it might be necessary to look into more advanced optimization techniques such as partitioning large tables.

If the context provided does not contain specific details about your database schema and queries that could lead us to a precise solution for optimizing them further (e.g., table sizes, column data types), I would recommend consulting PostgreSQL's documentation on query tuning or seeking advice from an expert who can analyze your particular situation in detail.

Source: Chapter 62 of the PostgreSQL manual

--------------------------------------------------------------------------------


--- TROUBLESHOOTING TEMPLATE ---
2026-02-03 20:08:57,642 - __main__ - INFO - Querying with prompt type: troubleshooting for query: My query is slow, how can I optimize it?
2026-02-03 20:08:57,644 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:08:57,644 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:08:57,644 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:08:57,644 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:09:19,301 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To help you troubleshoot and potentially speed up your PostgreSQL query, let's follow these steps based on our context knowledge about optimization techniques. Firstly, identify the core issue by examining if there are any large joins or complex operations in your query that might be causing slowness:

1. Check for Large Joins: If you have a join operation with more than 50 tables (as mentioned regarding Genetic Query Optimizer threshold), it's likely to take longer, especially without proper indexing. Ensure each table has an appropriate index on the columns used in JOIN conditions and WHERE clauses if applicable.

2. Use EXPLAIN ANALYZE: Run your query with `EXPLAIN ANALYZE` before making changes so you can see where it's spending most of its time, which will help identify bottlenecks (see PostgreSQL documentation on [EXPLAIN and EXPLAIN ANALYZE](https://www.postgresql.org/docs/current/using-explain.html)).

3. Balance Indexes: Ensure that the indexes used in your query are balanced, as unbalanced trees can slow down lookups (refer to [Balancing B-tree indices for better performance](https://www.postgresql.org/docs/current/indexes-cloudburst.html)).

4. Consider Partitioning: If you're dealing with large datasets and your query involves joining tables, consider partitioning the data if it makes sense to do so (see [Partitioned Tables](https://www.postgresql.org/docs/current/ddl-partitioning.html)).

5. Genetic Query Optimizer: If you're using PostgreSQL 9.6 or later, and your query involves more than the threshold of joins (which is typically around 50), consider enabling GEN_SUBQUERY to let PostgreSQL use its genetic optimizer for a better plan selection without manual intervention (see [GENETIC QUERY OPTIMIZER](https://www.postgresql.org/docs/current/populate-db-cache.html)).

6. Review Configuration Parameters: Check your `work_mem` setting to ensure it's adequate for the size of operations you are performing (see [Work Memory Settings in PostgreSQL](https://www.postgresql.org/docs/current/runtime-config-unguided.html)).

7. Analyze and Vacuum: Make sure your tables have been analyzed with `ANALYZE` to update the statistics used by the query planner, and regularly run `VACUUM FULL` on large tables (see [Table Maintenance in PostgreSQL](https://www.postgresql.org/docs/current/maintenance-techniques.html)).

If after these steps your performance is still not satisfactory or if you're unsure about the next step, consider looking into more advanced optimization techniques such as query rewriting (see [Query Rewriting](https://www.postgresql.org/docs/current/sql-query.html)) and using `pg_stat_activity` to monitor slow queries for further investigation or seeking expert advice on PostgreSQL performance tuning strategies.

Remember, optimization is often about trade-offs; sometimes a more complex query plan can be faster than the simplest one due to better use of indexes (see [Query Planning and Execution](https://www.postgresql.org/docs/current/query-optimization.html)).

--------------------------------------------------------------------------------


--- CODE TEMPLATE ---
2026-02-03 20:09:19,301 - __main__ - INFO - Querying with prompt type: code for query: My query is slow, how can I optimize it?
2026-02-03 20:09:19,303 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:09:19,304 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:09:19,304 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:09:19,304 - src.agent.rag_chain - INFO - Processing query: My query is slow, how can I optimize it?
2026-02-03 20:09:57,484 - src.agent.rag_chain - INFO - Generated response with 3 sources.
To help you understand and improve your SQL query performance in PostgreSQL, let's first identify common areas where queries may become slow due to lack of proper indexing or suboptimal execution plans. Here are some general guidelines along with examples that can be directly derived from the context:

1. Use Indexes Wisely: As mentioned in your question about balanced indexes and query time, using appropriate indices is crucial for efficient data retrieval. A well-designed index allows PostgreSQL to quickly locate rows without scanning entire tables (full table scan). Here's an example of creating a B-tree index on columns that are frequently used in WHERE clauses:

```sql
CREATE INDEX idx_column ON your_table USING btree(your_column);
```
In this case, `idx_column` is the name given to our new index. The choice of data type and indexing method (B-tree) depends on specific use cases; for example, a GIN or GiST might be better suited if your table contains complex types like arrays or JSON objects that are often queried upon.

2. Use EXPLAIN ANALYZE: To understand how PostgreSQL executes your query and identify potential bottlenecks, use the `EXPLAIN` statement followed by an execution of your actual SQL command with it (not just a SELECT). This will show you which operations are being performed and where there might be room for optimization.

```sql
EXPLAIN ANALYZE SELECT * FROM your_table WHERE some_column = 'some value';
```
This example shows how to use `EXPLAIN` with a simple query, but remember that the output will vary based on table size and data distribution. Look for sequential scans or nested loops in execution plans as indicators of potential issues:

3. Consider Using Materialized Views: If your database has complex joins involving large datasets (as mentioned regarding Genetic Query Optimizer), consider using materialized views to store pre-computed results, which can speed up repeated queries significantly. Here's an example on how you might create a view that aggregates data from multiple tables and then query it:

```sql
CREATE MATERIALIZED VIEW your_materialized_view AS
SELECT t1.*, SUM(t2.column) as total FROM table1 t1 JOIN table2 t2 ON ... GROUP BY some_key;
```
You can refresh this view periodically or trigger it to update on certain events using `REFRESH MATERIALIZED VIEW`. Note that materialized views are not suitable for all scenarios, as they require additional storage and maintenance. They're best used when the underlying data doesn't change frequently.

4. Use Genetic Query Optimizer: When dealing with complex queries involving multiple joins (as mentioned in your context), PostgreSQL can use its genetic query optimizer to find a reasonable execution plan without examining every possible way of executing it, which is beneficial when the number of join operations exceeds `geqo_threshold`. This threshold value should be tuned based on system resources and workload.

5. Avoid Full Table Scans: As noted in your question about query time being affected by unbalanced indexes or full table scans, ensure that you're using the right indices to avoid this situation whenever possible. If a column is frequently used as part of JOIN conditions, WHERE clauses, and ORDER BY statements, consider creating an index on it:

```sql
CREATE INDEX idx_your_column ON your_table (some_other_column); -- Ensure the order matches query patterns if necessary for better performance.
```
Remember that adding too many indexes can slow down write operations and consume more storage, so use them judiciously based on actual usage statistics of queries.

6. Use Partitioning: If your table is very large (in terms of rows or size), consider partitioning it to improve performance by reducing the amount of data scanned for each query operation. This can be particularly effective when combined with appropriate indexing strategies and materialized views, as mentioned earlier in point 3.

7. Regularly Update Statistics: PostgreSQL relies on table statistics (like `ANALYZE`) to make informed decisions about the best execution plan for a query. Ensure that these are up-to-date using regular maintenance tasks like running ANALYZE or VACUUM commands, especially after significant data changes in your tables:

```sql
ANALYZE TABLE your_table; -- Update statistics on table rows and distribution of values within columns for better query planning.
```
8. Consider Using CTEs (Common Table Expressions): Common Table Expressions can sometimes help with readability, maintaining complex queries in a more structured manner:

```sql
WITH filtered_data AS (
  SELECT * FROM your_table WHERE some_column = 'some value'
)
SELECT * FROM filtered_data;
```
This example shows how to use CTEs for filtering data before applying further operations. However, remember that while they can improve readability and sometimes performance by simplifying complex queries into smaller parts, the actual execution plan might not always be optimal due to PostgreSQL's query planner behavior:

9. Use Parallel Query Execution (if supported): If your system has multiple CPU cores available, you may enable parallelism for certain operations using `SET enable_parallel=on` at session level or by setting the appropriate configuration parameter in postgresql.conf file to improve performance on suitable queries and systems with enough resources:

```sql
SET enable_parallel = ON; -- Enable this only if your system supports it, as not all workloads benefit from parallelism due to overheads involved.
```
Remember that the above settings should be used judiciously since enabling unnecessary parallel execution can lead to increased resource consumption and contention among concurrent queries in a multi-user environment. 

Always test your changes on non-production environments first, as optimizations may vary based on specific data distributions and system configurations.

--------------------------------------------------------------------------------

2026-02-03 20:09:57,485 - __main__ - INFO - Prompt comparison script finished.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/chunking_evaluation.py
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 170
    print(f"   ANSWER: {res['answer'].strip().replace('\n', ' ')}")
                                                                  ^
SyntaxError: f-string expression part cannot include a backslash
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/chunking_evaluation.py
2026-02-03 20:41:30,680 - __main__ - INFO - --- Starting Chunking Strategy Evaluation ---
2026-02-03 20:41:30,680 - __main__ - INFO - Loading source document: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql/postgresql-16-A4.pdf
2026-02-03 20:41:30,680 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql
2026-02-03 20:41:30,680 - src.ingestion.document_loader - INFO - Processing: postgresql-16-A4.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 20:42:05,431 - src.ingestion.document_loader - INFO -   ‚Üí Created 8087 sections from postgresql-16-A4.pdf
2026-02-03 20:42:05,431 - src.ingestion.document_loader - INFO - Total: 8087 PDF documents
2026-02-03 20:42:05,434 - __main__ - INFO - Successfully loaded 8087 source document(s).
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 193, in <module>
    run_chunking_evaluation()
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 78, in run_chunking_evaluation
    test_queries = [q['query'] for q in json.load(f)['queries']]
                                        ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/json/__init__.py", line 293, in load
    return loads(fp.read(),
           ^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 51 column 5 (char 2788)
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/chunking_evaluation.py
2026-02-03 20:43:56,669 - __main__ - INFO - --- Starting Chunking Strategy Evaluation ---
2026-02-03 20:43:56,669 - __main__ - INFO - Loading source document: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql/postgresql-16-A4.pdf
2026-02-03 20:43:56,669 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql
2026-02-03 20:43:56,669 - src.ingestion.document_loader - INFO - Processing: postgresql-16-A4.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 20:44:31,085 - src.ingestion.document_loader - INFO -   ‚Üí Created 8087 sections from postgresql-16-A4.pdf
2026-02-03 20:44:31,085 - src.ingestion.document_loader - INFO - Total: 8087 PDF documents
2026-02-03 20:44:31,088 - __main__ - INFO - Successfully loaded 8087 source document(s).
2026-02-03 20:44:31,089 - __main__ - INFO - Loaded 45 test queries from evals/test_queries.json
2026-02-03 20:44:31,089 - __main__ - INFO - Initializing HuggingFace embedder...
2026-02-03 20:44:33,249 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_256_Overlap_30 ---
2026-02-03 20:44:33,249 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=256, overlap=30
2026-02-03 20:44:33,841 - src.ingestion.chunker - INFO - Created 39970 chunks
2026-02-03 20:44:33,841 - __main__ - INFO - Created 39970 chunks.
2026-02-03 20:44:33,841 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 20:44:33,841 - src.retrieval.vector_store - INFO - Creating vector store from 39970 documents
2026-02-03 20:45:48,505 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 20:45:48,506 - __main__ - INFO - In-memory vector store created successfully.
2026-02-03 20:45:48,518 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:45:48,518 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:45:48,518 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:45:48,518 - __main__ - INFO - Running query: 'How do I create an index in PostgreSQL?'
2026-02-03 20:45:48,518 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:45:57,498 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:45:57,498 - __main__ - INFO - Running query: 'What's the difference between INNER JOIN and LEFT JOIN?'
2026-02-03 20:45:57,498 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
2026-02-03 20:46:21,245 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:46:21,245 - __main__ - INFO - Running query: 'How do I configure connection pooling in PostgreSQL?'
2026-02-03 20:46:21,245 - src.agent.rag_chain - INFO - Processing query: How do I configure connection pooling in PostgreSQL?
2026-02-03 20:46:48,208 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:46:48,209 - __main__ - INFO - Running query: 'What is MVCC and how does it work?'
2026-02-03 20:46:48,209 - src.agent.rag_chain - INFO - Processing query: What is MVCC and how does it work?
2026-02-03 20:47:13,102 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:47:13,102 - __main__ - INFO - Running query: 'How do I back up a PostgreSQL database?'
2026-02-03 20:47:13,102 - src.agent.rag_chain - INFO - Processing query: How do I back up a PostgreSQL database?
2026-02-03 20:49:09,308 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:49:09,308 - __main__ - INFO - Running query: 'How do I create a table with a foreign key constraint?'
2026-02-03 20:49:09,308 - src.agent.rag_chain - INFO - Processing query: How do I create a table with a foreign key constraint?
2026-02-03 20:49:27,192 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:49:27,192 - __main__ - INFO - Running query: 'How can I check the size of a PostgreSQL database?'
2026-02-03 20:49:27,192 - src.agent.rag_chain - INFO - Processing query: How can I check the size of a PostgreSQL database?
2026-02-03 20:49:35,211 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:49:35,211 - __main__ - INFO - Running query: 'What is VACUUM and why is it needed?'
2026-02-03 20:49:35,211 - src.agent.rag_chain - INFO - Processing query: What is VACUUM and why is it needed?
2026-02-03 20:52:35,342 - src.agent.providers.ollama_provider - ERROR - Error calling Ollama API for model phi3:mini: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=180)
2026-02-03 20:52:35,343 - __main__ - ERROR - Error during query for strategy 'Recursive_256_Overlap_30': HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=180)
Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 1390, in getresponse
    response.begin()
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
TimeoutError: timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/util/retry.py", line 490, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=180)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 125, in run_chunking_evaluation
    result = rag_chain.query_with_citations(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 98, in query_with_citations
    response = self.query(question, return_source_documents=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 88, in query
    response = qa_chain.invoke({"query": question})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/retrieval_qa/base.py", line 144, in _call
    answer = self.combine_documents_chain.run(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 543, in run
    return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/base.py", line 136, in _call
    output, extra_return_dict = self.combine_docs(
                                ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/stuff.py", line 244, in combine_docs
    return self.llm_chain.predict(callbacks=callbacks, **inputs), {}
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 293, in predict
    return self(kwargs, callbacks=callbacks)[self.output_key]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 103, in _call
    response = self.generate([inputs], run_manager=run_manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 115, in generate
    return self.llm.generate_prompt(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 568, in generate_prompt
    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 741, in generate
    output = self._generate_helper(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 605, in _generate_helper
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 592, in _generate_helper
    self._generate(
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 1177, in _generate
    self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/llm_wrapper.py", line 35, in _call
    response = self.llm_provider.generate_text(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/providers/ollama_provider.py", line 61, in generate_text
    response = requests.post(f"{self.base_url}/api/chat", json=payload, timeout=self.settings.ollama_timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 690, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPConnectionPool(host='localhost', port=11434): Read timed out. (read timeout=180)
2026-02-03 20:52:35,371 - __main__ - INFO - Running query: 'How do I update rows using data from another table?'
2026-02-03 20:52:35,371 - src.agent.rag_chain - INFO - Processing query: How do I update rows using data from another table?
2026-02-03 20:53:13,558 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:53:13,558 - __main__ - INFO - Running query: 'What are CTEs and when should I use them?'
2026-02-03 20:53:13,558 - src.agent.rag_chain - INFO - Processing query: What are CTEs and when should I use them?
2026-02-03 20:53:32,943 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:53:32,944 - __main__ - INFO - Running query: 'How do I analyze query performance in PostgreSQL?'
2026-02-03 20:53:32,944 - src.agent.rag_chain - INFO - Processing query: How do I analyze query performance in PostgreSQL?
^CTraceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 193, in <module>
    run_chunking_evaluation()
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 125, in run_chunking_evaluation
    result = rag_chain.query_with_citations(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 98, in query_with_citations
    response = self.query(question, return_source_documents=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 88, in query
    response = qa_chain.invoke({"query": question})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/retrieval_qa/base.py", line 144, in _call
    answer = self.combine_documents_chain.run(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 543, in run
    return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/base.py", line 136, in _call
    output, extra_return_dict = self.combine_docs(
                                ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/stuff.py", line 244, in combine_docs
    return self.llm_chain.predict(callbacks=callbacks, **inputs), {}
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 293, in predict
    return self(kwargs, callbacks=callbacks)[self.output_key]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 103, in _call
    response = self.generate([inputs], run_manager=run_manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 115, in generate
    return self.llm.generate_prompt(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 568, in generate_prompt
    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 741, in generate
    output = self._generate_helper(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 605, in _generate_helper
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 592, in _generate_helper
    self._generate(
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 1177, in _generate
    self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/llm_wrapper.py", line 35, in _call
    response = self.llm_provider.generate_text(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/providers/ollama_provider.py", line 61, in generate_text
    response = requests.post(f"{self.base_url}/api/chat", json=payload, timeout=self.settings.ollama_timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 1390, in getresponse
    response.begin()
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt

(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ watch -n 1 nvidia-smi
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/chunking_evaluation.py
2026-02-03 20:54:48,329 - __main__ - INFO - --- Starting Chunking Strategy Evaluation ---
2026-02-03 20:54:48,329 - __main__ - INFO - Loading source document: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql/postgresql-16-A4.pdf
2026-02-03 20:54:48,329 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql
2026-02-03 20:54:48,329 - src.ingestion.document_loader - INFO - Processing: postgresql-16-A4.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 20:55:28,241 - src.ingestion.document_loader - INFO -   ‚Üí Created 8087 sections from postgresql-16-A4.pdf
2026-02-03 20:55:28,241 - src.ingestion.document_loader - INFO - Total: 8087 PDF documents
2026-02-03 20:55:28,245 - __main__ - INFO - Successfully loaded 8087 source document(s).
2026-02-03 20:55:28,249 - __main__ - INFO - Loaded 45 test queries from evals/test_queries.json
2026-02-03 20:55:28,249 - __main__ - INFO - Initializing HuggingFace embedder...
2026-02-03 20:55:28,458 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_256_Overlap_30 ---
2026-02-03 20:55:28,458 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=256, overlap=30
2026-02-03 20:55:29,068 - src.ingestion.chunker - INFO - Created 39970 chunks
2026-02-03 20:55:29,068 - __main__ - INFO - Created 39970 chunks.
2026-02-03 20:55:29,068 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 20:55:29,068 - src.retrieval.vector_store - INFO - Creating vector store from 39970 documents
2026-02-03 20:57:42,295 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 20:57:42,295 - __main__ - INFO - In-memory vector store created successfully.
2026-02-03 20:57:42,307 - src.agent.providers.ollama_provider - INFO - Successfully connected to Ollama server at http://localhost:11434
2026-02-03 20:57:42,308 - src.agent.rag_chain - INFO - Initialized RAG chain with Ollama model: phi3:mini
2026-02-03 20:57:42,308 - src.agent.rag_chain - INFO - RAG chain fully initialized with provider 'ollama' and retriever.
2026-02-03 20:57:42,308 - __main__ - INFO - Running query: 'How do I create an index in PostgreSQL?'
2026-02-03 20:57:42,308 - src.agent.rag_chain - INFO - Processing query: How do I create an index in PostgreSQL?
2026-02-03 20:57:50,006 - src.agent.rag_chain - INFO - Generated response with 5 sources.
2026-02-03 20:57:50,006 - __main__ - INFO - Running query: 'What's the difference between INNER JOIN and LEFT JOIN?'
2026-02-03 20:57:50,006 - src.agent.rag_chain - INFO - Processing query: What's the difference between INNER JOIN and LEFT JOIN?
^CTraceback (most recent call last):
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 193, in <module>
    run_chunking_evaluation()
  File "/home/dell-linux-dev3/Projects/techdoc-genie/evals/chunking_evaluation.py", line 125, in run_chunking_evaluation
    result = rag_chain.query_with_citations(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 98, in query_with_citations
    response = self.query(question, return_source_documents=True)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/rag_chain.py", line 88, in query
    response = qa_chain.invoke({"query": question})
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/retrieval_qa/base.py", line 144, in _call
    answer = self.combine_documents_chain.run(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 543, in run
    return self(kwargs, callbacks=callbacks, tags=tags, metadata=metadata)[
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/base.py", line 136, in _call
    output, extra_return_dict = self.combine_docs(
                                ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/combine_documents/stuff.py", line 244, in combine_docs
    return self.llm_chain.predict(callbacks=callbacks, **inputs), {}
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 293, in predict
    return self(kwargs, callbacks=callbacks)[self.output_key]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 145, in warning_emitting_wrapper
    return wrapped(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 363, in __call__
    return self.invoke(
           ^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 162, in invoke
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/base.py", line 156, in invoke
    self._call(inputs, run_manager=run_manager)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 103, in _call
    response = self.generate([inputs], run_manager=run_manager)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain/chains/llm.py", line 115, in generate
    return self.llm.generate_prompt(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 568, in generate_prompt
    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 741, in generate
    output = self._generate_helper(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 605, in _generate_helper
    raise e
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 592, in _generate_helper
    self._generate(
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/langchain_core/language_models/llms.py", line 1177, in _generate
    self._call(prompt, stop=stop, run_manager=run_manager, **kwargs)
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/llm_wrapper.py", line 35, in _call
    response = self.llm_provider.generate_text(prompt, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/src/agent/providers/ollama_provider.py", line 61, in generate_text
    response = requests.post(f"{self.base_url}/api/chat", json=payload, timeout=self.settings.ollama_timeout)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
               ^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 1390, in getresponse
    response.begin()
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 325, in begin
    version, status, reason = self._read_status()
                              ^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/http/client.py", line 286, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/dell-linux-dev3/anaconda3/lib/python3.11/socket.py", line 706, in readinto
    return self._sock.recv_into(b)
           ^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt

(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/retrieval_evaluation.py 
2026-02-03 21:02:07,359 - __main__ - INFO - --- Starting Retrieval-Only Evaluation for Chunking Strategies ---
2026-02-03 21:02:07,359 - __main__ - INFO - Loading source document: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql/postgresql-16-A4.pdf
2026-02-03 21:02:07,359 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql
2026-02-03 21:02:07,359 - src.ingestion.document_loader - INFO - Processing: postgresql-16-A4.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 21:02:45,181 - src.ingestion.document_loader - INFO -   ‚Üí Created 8087 sections from postgresql-16-A4.pdf
2026-02-03 21:02:45,181 - src.ingestion.document_loader - INFO - Total: 8087 PDF documents
2026-02-03 21:02:45,185 - __main__ - INFO - Successfully loaded source document(s).
2026-02-03 21:02:45,194 - __main__ - INFO - Loaded 45 test queries from evals/test_queries.json
2026-02-03 21:02:45,194 - __main__ - INFO - Initializing HuggingFace embedder...
2026-02-03 21:02:45,437 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_512_Overlap_50 ---
2026-02-03 21:02:45,437 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=512, overlap=50
2026-02-03 21:02:45,925 - src.ingestion.chunker - INFO - Created 22259 chunks
2026-02-03 21:02:45,925 - __main__ - INFO - Created 22259 chunks.
2026-02-03 21:02:45,925 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:02:45,925 - src.retrieval.vector_store - INFO - Creating vector store from 22259 documents
2026-02-03 21:04:33,613 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:04:33,959 - __main__ - INFO - Finished evaluation for Recursive_512_Overlap_50: Hit Rate=24.44%, MRR=0.101
2026-02-03 21:04:33,959 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_1024_Overlap_100 ---
2026-02-03 21:04:33,959 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=1024, overlap=100
2026-02-03 21:04:34,278 - src.ingestion.chunker - INFO - Created 14341 chunks
2026-02-03 21:04:34,283 - __main__ - INFO - Created 14341 chunks.
2026-02-03 21:04:34,283 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:04:34,292 - src.retrieval.vector_store - INFO - Creating vector store from 14341 documents
2026-02-03 21:05:55,716 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:05:55,974 - __main__ - INFO - Finished evaluation for Recursive_1024_Overlap_100: Hit Rate=40.00%, MRR=0.170
2026-02-03 21:05:55,974 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_2048_Overlap_200 ---
2026-02-03 21:05:55,974 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=2048, overlap=200
2026-02-03 21:05:56,169 - src.ingestion.chunker - INFO - Created 10090 chunks
2026-02-03 21:05:56,172 - __main__ - INFO - Created 10090 chunks.
2026-02-03 21:05:56,172 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:05:56,181 - src.retrieval.vector_store - INFO - Creating vector store from 10090 documents
2026-02-03 21:07:16,358 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:07:16,586 - __main__ - INFO - Finished evaluation for Recursive_2048_Overlap_200: Hit Rate=53.33%, MRR=0.236
2026-02-03 21:07:16,586 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_4096_Overlap_400 ---
2026-02-03 21:07:16,586 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=4096, overlap=400
2026-02-03 21:07:16,721 - src.ingestion.chunker - INFO - Created 8396 chunks
2026-02-03 21:07:16,723 - __main__ - INFO - Created 8396 chunks.
2026-02-03 21:07:16,723 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:07:16,727 - src.retrieval.vector_store - INFO - Creating vector store from 8396 documents
2026-02-03 21:08:24,839 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:08:25,047 - __main__ - INFO - Finished evaluation for Recursive_4096_Overlap_400: Hit Rate=57.78%, MRR=0.267
2026-02-03 21:08:25,048 - __main__ - INFO - 
--- Evaluating Strategy: Semantic_512_Overlap_50 ---
2026-02-03 21:08:25,048 - src.ingestion.chunker - WARNING - Semantic chunking not yet implemented, using recursive
2026-02-03 21:08:25,048 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=512, overlap=50
2026-02-03 21:08:25,520 - src.ingestion.chunker - INFO - Created 22259 chunks
2026-02-03 21:08:25,522 - __main__ - INFO - Created 22259 chunks.
2026-02-03 21:08:25,522 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:08:25,526 - src.retrieval.vector_store - INFO - Creating vector store from 22259 documents
2026-02-03 21:11:07,752 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:11:08,011 - __main__ - INFO - Finished evaluation for Semantic_512_Overlap_50: Hit Rate=24.44%, MRR=0.101


====================================================================================================
--- RETRIEVAL EVALUATION SUMMARY ---
====================================================================================================
+----------------------------+--------------+----------------+-------+
| Strategy                   |   Num Chunks |   Hit Rate (%) |   MRR |
+============================+==============+================+=======+
| Recursive_512_Overlap_50   |        22259 |          24.44 | 0.101 |
+----------------------------+--------------+----------------+-------+
| Recursive_1024_Overlap_100 |        14341 |          40    | 0.17  |
+----------------------------+--------------+----------------+-------+
| Recursive_2048_Overlap_200 |        10090 |          53.33 | 0.236 |
+----------------------------+--------------+----------------+-------+
| Recursive_4096_Overlap_400 |         8396 |          57.78 | 0.267 |
+----------------------------+--------------+----------------+-------+
| Semantic_512_Overlap_50    |        22259 |          24.44 | 0.101 |
+----------------------------+--------------+----------------+-------+

- Hit Rate: Percentage of queries that returned at least one relevant document.
- MRR (Mean Reciprocal Rank): A score that considers the rank of the first relevant document. Higher is better.
(techdoc-genie-venv) (base) dell-linux-dev3@dell-linux-dev3-Precision-3591:~/Projects/techdoc-genie$ python evals/retrieval_evaluation.py 
2026-02-03 21:53:07,687 - __main__ - INFO - --- Starting Retrieval-Only Evaluation for Chunking Strategies ---
2026-02-03 21:53:07,687 - __main__ - INFO - Loading source document: /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql/postgresql-16-A4.pdf
2026-02-03 21:53:07,687 - src.ingestion.document_loader - INFO - Loading PDF files from /home/dell-linux-dev3/Projects/techdoc-genie/data/raw/postgresql
2026-02-03 21:53:07,688 - src.ingestion.document_loader - INFO - Processing: postgresql-16-A4.pdf
/home/dell-linux-dev3/Projects/techdoc-genie/techdoc-genie-venv/lib/python3.11/site-packages/pypdf/_crypt_providers/_cryptography.py:32: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  from cryptography.hazmat.primitives.ciphers.algorithms import AES, ARC4
2026-02-03 21:53:40,833 - src.ingestion.document_loader - INFO -   ‚Üí Created 8087 sections from postgresql-16-A4.pdf
2026-02-03 21:53:40,833 - src.ingestion.document_loader - INFO - Total: 8087 PDF documents
2026-02-03 21:53:40,836 - __main__ - INFO - Successfully loaded source document(s).
2026-02-03 21:53:40,836 - __main__ - INFO - Loaded 45 test queries from evals/test_queries.json
2026-02-03 21:53:40,836 - __main__ - INFO - Initializing HuggingFace embedder...
2026-02-03 21:53:41,116 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_512_Overlap_50 ---
2026-02-03 21:53:41,116 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=512, overlap=50
2026-02-03 21:53:41,539 - src.ingestion.chunker - INFO - Created 22259 chunks
2026-02-03 21:53:41,539 - __main__ - INFO - Created 22259 chunks.
2026-02-03 21:53:41,539 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:53:41,539 - src.retrieval.vector_store - INFO - Creating vector store from 22259 documents
2026-02-03 21:54:38,857 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:54:39,132 - __main__ - INFO - Finished evaluation for Recursive_512_Overlap_50: Hit Rate=15.56%, MRR=0.088
2026-02-03 21:54:39,133 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_1024_Overlap_100 ---
2026-02-03 21:54:39,133 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=1024, overlap=100
2026-02-03 21:54:39,370 - src.ingestion.chunker - INFO - Created 14341 chunks
2026-02-03 21:54:39,373 - __main__ - INFO - Created 14341 chunks.
2026-02-03 21:54:39,373 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:54:39,383 - src.retrieval.vector_store - INFO - Creating vector store from 14341 documents
2026-02-03 21:55:16,309 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:55:16,552 - __main__ - INFO - Finished evaluation for Recursive_1024_Overlap_100: Hit Rate=35.56%, MRR=0.164
2026-02-03 21:55:16,552 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_2048_Overlap_200 ---
2026-02-03 21:55:16,552 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=2048, overlap=200
2026-02-03 21:55:16,726 - src.ingestion.chunker - INFO - Created 10090 chunks
2026-02-03 21:55:16,730 - __main__ - INFO - Created 10090 chunks.
2026-02-03 21:55:16,730 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:55:16,738 - src.retrieval.vector_store - INFO - Creating vector store from 10090 documents
2026-02-03 21:55:43,869 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:55:44,247 - __main__ - INFO - Finished evaluation for Recursive_2048_Overlap_200: Hit Rate=37.78%, MRR=0.217
2026-02-03 21:55:44,247 - __main__ - INFO - 
--- Evaluating Strategy: Recursive_4096_Overlap_400 ---
2026-02-03 21:55:44,247 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=4096, overlap=400
2026-02-03 21:55:44,648 - src.ingestion.chunker - INFO - Created 8396 chunks
2026-02-03 21:55:44,651 - __main__ - INFO - Created 8396 chunks.
2026-02-03 21:55:44,651 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:55:44,657 - src.retrieval.vector_store - INFO - Creating vector store from 8396 documents
2026-02-03 21:56:07,920 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:56:08,157 - __main__ - INFO - Finished evaluation for Recursive_4096_Overlap_400: Hit Rate=37.78%, MRR=0.241
2026-02-03 21:56:08,157 - __main__ - INFO - 
--- Evaluating Strategy: Semantic_512_Overlap_50 ---
2026-02-03 21:56:08,157 - src.ingestion.chunker - WARNING - Semantic chunking not yet implemented, using recursive
2026-02-03 21:56:08,157 - src.ingestion.chunker - INFO - Chunking with recursive strategy: size=512, overlap=50
2026-02-03 21:56:08,674 - src.ingestion.chunker - INFO - Created 22259 chunks
2026-02-03 21:56:08,675 - __main__ - INFO - Created 22259 chunks.
2026-02-03 21:56:08,675 - __main__ - INFO - Creating in-memory vector store...
2026-02-03 21:56:08,679 - src.retrieval.vector_store - INFO - Creating vector store from 22259 documents
2026-02-03 21:57:05,810 - src.retrieval.vector_store - INFO - ‚úÖ Vector store created successfully
2026-02-03 21:57:06,077 - __main__ - INFO - Finished evaluation for Semantic_512_Overlap_50: Hit Rate=15.56%, MRR=0.088


====================================================================================================
--- RETRIEVAL EVALUATION SUMMARY ---
====================================================================================================
+----------------------------+--------------+----------------+-------+
| Strategy                   |   Num Chunks |   Hit Rate (%) |   MRR |
+============================+==============+================+=======+
| Recursive_512_Overlap_50   |        22259 |          15.56 | 0.088 |
+----------------------------+--------------+----------------+-------+
| Recursive_1024_Overlap_100 |        14341 |          35.56 | 0.164 |
+----------------------------+--------------+----------------+-------+
| Recursive_2048_Overlap_200 |        10090 |          37.78 | 0.217 |
+----------------------------+--------------+----------------+-------+
| Recursive_4096_Overlap_400 |         8396 |          37.78 | 0.241 |
+----------------------------+--------------+----------------+-------+
| Semantic_512_Overlap_50    |        22259 |          15.56 | 0.088 |
+----------------------------+--------------+----------------+-------+

- Hit Rate: Percentage of queries that returned at least one relevant document.
- MRR (Mean Reciprocal Rank): A score that considers the rank of the first relevant document. Higher is better.
